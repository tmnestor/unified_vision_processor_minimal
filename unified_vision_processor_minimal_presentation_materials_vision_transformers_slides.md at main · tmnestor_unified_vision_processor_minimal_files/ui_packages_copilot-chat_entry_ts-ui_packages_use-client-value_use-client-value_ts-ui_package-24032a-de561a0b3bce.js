"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_copilot-chat_entry_ts-ui_packages_use-client-value_use-client-value_ts-ui_package-24032a"],{70997:(e,t,n)=>{var r,o=n(52497),a=n(74848),i=n(21728),s=n(95776),l=n(68415),c=n(34901),d=n(47397),m=n(22069),h=n(97286),p=n(39459),u=n(96235),f=n(98075),x=n(96679),g=n(62626),b=n(22279),y=n(38621),w=n(52464),j=n(75177),v=n(89169),C=n(58569),_=n(10871),S=n(87330),N=n(96540),O=n(9677),I=n(45968);function D(e){let t,n,r,o,s=(0,i.c)(11),{lineNumbers:l,lines:c,trimLineBeginnings:d}=e;if(s[0]===Symbol.for("react.memo_cache_sentinel")?(t={display:"flex",flexDirection:"row",overflowX:"auto",pb:3},n={fontSize:"12px",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace",overflowX:"auto"},s[0]=t,s[1]=n):(t=s[0],n=s[1]),s[2]!==l||s[3]!==c||s[4]!==d){let e;s[6]!==c||s[7]!==d?(e=(e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e},e),(0,a.jsx)("td",{style:{whiteSpace:"pre",paddingLeft:"16px"},children:(0,a.jsx)(I.$6,{html:d?(c[t]??"").trimStart():c[t]||`
`},`line-${t}`)})]},`line-row-${e}`),s[6]=c,s[7]=d,s[8]=e):e=s[8],r=l.map(e),s[2]=l,s[3]=c,s[4]=d,s[5]=r}else r=s[5];return s[9]!==r?(o=(0,a.jsx)(j.A,{sx:t,children:(0,a.jsx)("table",{style:n,children:r})}),s[9]=r,s[10]=o):o=s[10],o}try{D.displayName||(D.displayName="SimpleCodeListing")}catch{}function L(e){let t,n,r,o,s,l,c,d,m,h,x,C,_,S,I,L,T,E,V,B,F,$,z,W,H,M,U,G,X,Q,J=(0,i.c)(88),{reference:q,details:K,detailsLoading:Y,detailsError:Z,onDismiss:ee}=e,{contributors:et}=(0,g.u)(q.repoOwner,q.repoName,q.commitOID,q.path),[en]=(0,b.E)(q.repoOwner,q.repoName,q.commitOID,q.path),{lines:er,lineNumbers:eo,expandUp:ea,expandDown:ei}=function(e,t,n){let r,o,a,s,l,c,d,m,h=(0,i.c)(42),[p,u]=(0,N.useState)(e?.start??-1),[f,x]=(0,N.useState)(e?.end??-1);h[0]!==n||h[1]!==t||h[2]!==e?(r=n&&e&&t?n.slice(e.start-t.start,e.end-t.start+1):[],h[0]=n,h[1]=t,h[2]=e,h[3]=r):r=h[3];let[g,b]=(0,N.useState)(r);h[4]!==n||h[5]!==f||h[6]!==t||h[7]!==e||h[8]!==p?(o=(r,o)=>{let a=void 0===r?p:r,i=void 0===o?f:o;n&&e&&t&&!(a<0)&&!(i<0)&&b(n.slice(a-t.start,i-t.start+1))},h[4]=n,h[5]=f,h[6]=t,h[7]=e,h[8]=p,h[9]=o):o=h[9];let y=o;h[10]!==n||h[11]!==f||h[12]!==e||h[13]!==p||h[14]!==y?(a=()=>{if(e&&n&&(-1===p||-1===f)){let t=e.start,n=e.end;u(t),x(n),y(t,n)}},h[10]=n,h[11]=f,h[12]=e,h[13]=p,h[14]=y,h[15]=a):a=h[15],h[16]!==n||h[17]!==f||h[18]!==t||h[19]!==e||h[20]!==p||h[21]!==y?(s=[n,e,t,y,p,f],h[16]=n,h[17]=f,h[18]=t,h[19]=e,h[20]=p,h[21]=y,h[22]=s):s=h[22],(0,N.useEffect)(a,s),h[23]!==t?.start||h[24]!==p||h[25]!==y?(l=()=>{let e=Math.max(p-P,t?.start??-1);u(e),y(e)},h[23]=t?.start,h[24]=p,h[25]=y,h[26]=l):l=h[26],t?.start;let w=l;h[27]!==f||h[28]!==t?.end||h[29]!==p||h[30]!==y?(c=()=>{let e=Math.min(f+P,t?.end??-1);x(e),y(p,e)},h[27]=f,h[28]=t?.end,h[29]=p,h[30]=y,h[31]=c):c=h[31],t?.end;let j=c,v=-1!==p&&p!==t?.start,C=-1!==f&&f!==t?.end;if(h[32]!==g||h[33]!==p){let e;h[35]!==p?(e=(e,t)=>p+t,h[35]=p,h[36]=e):e=h[36],d=g.map(e),h[32]=g,h[33]=p,h[34]=d}else d=h[34];let _=v?w:null,S=C?j:null;return h[37]!==g||h[38]!==d||h[39]!==_||h[40]!==S?(m={lines:g,lineNumbers:d,expandUp:_,expandDown:S},h[37]=g,h[38]=d,h[39]=_,h[40]=S,h[41]=m):m=h[41],m}(K?.range,K?.expandedRange,K?.highlightedContents),es=K?.headerInfo,el=K?.repoIsOrgOwned,ec=`${q.repoOwner}.png`;return J[0]===Symbol.for("react.memo_cache_sentinel")?(t={mr:2,flexShrink:0},J[0]=t):t=J[0],J[1]!==el||J[2]!==ec?(n=(0,a.jsx)(p.r,{square:el,src:ec,sx:t}),J[1]=el,J[2]=ec,J[3]=n):n=J[3],J[4]===Symbol.for("react.memo_cache_sentinel")?(r={fontWeight:600,whiteSpace:"nowrap"},J[4]=r):r=J[4],J[5]!==q.repoName||J[6]!==q.repoOwner?(o=(0,a.jsxs)(w.A,{sx:r,children:[q.repoOwner,"/",q.repoName]}),J[5]=q.repoName,J[6]=q.repoOwner,J[7]=o):o=J[7],J[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)(w.A,{sx:{marginX:1},children:"\xb7"}),J[8]=s):s=J[8],J[9]===Symbol.for("react.memo_cache_sentinel")?(l={fontWeight:400},J[9]=l):l=J[9],J[10]!==q.ref?(c=(0,f.gE)(q.ref),J[10]=q.ref,J[11]=c):c=J[11],J[12]!==c?(d=(0,a.jsx)(w.A,{sx:l,children:c}),J[12]=c,J[13]=d):d=J[13],J[14]===Symbol.for("react.memo_cache_sentinel")?(m=(0,a.jsx)(w.A,{sx:{marginX:1},children:"\xb7"}),J[14]=m):m=J[14],J[15]===Symbol.for("react.memo_cache_sentinel")?(h={fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},J[15]=h):h=J[15],J[16]!==q.path?(x=(0,a.jsx)(w.A,{sx:h,children:q.path}),J[16]=q.path,J[17]=x):x=J[17],J[18]!==q.range||J[19]!==q.type?(C="snippet"===q.type&&(0,a.jsxs)("span",{children:[":",q.range.start,"-",q.range.end]}),J[18]=q.range,J[19]=q.type,J[20]=C):C=J[20],J[21]!==ee||J[22]!==d||J[23]!==x||J[24]!==C||J[25]!==n||J[26]!==o?(_=(0,a.jsxs)(O.O.Header,{onDismiss:ee,children:[n,o,s,d,m,x,C]}),J[21]=ee,J[22]=d,J[23]=x,J[24]=C,J[25]=n,J[26]=o,J[27]=_):_=J[27],J[28]===Symbol.for("react.memo_cache_sentinel")?(S={border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0 0",marginX:3},J[28]=S):S=J[28],J[29]!==es?(I=es&&(0,a.jsx)(k,{headerInfo:es}),J[29]=es,J[30]=I):I=J[30],J[31]!==es?(L=es&&(0,a.jsx)(A,{headerInfo:es}),J[31]=es,J[32]=L):L=J[32],J[33]!==I||J[34]!==L?(T=(0,a.jsxs)(R,{children:[I,L]}),J[33]=I,J[34]=L,J[35]=T):T=J[35],J[36]!==ea?(E=ea&&(0,a.jsx)(O.O.ContentExpander,{direction:"above",onExpand:ea}),J[36]=ea,J[37]=E):E=J[37],J[38]!==eo||J[39]!==er?(V=(0,a.jsx)(O.O.Content,{children:(0,a.jsx)(D,{lines:er,lineNumbers:eo})}),J[38]=eo,J[39]=er,J[40]=V):V=J[40],J[41]!==ei?(B=ei&&(0,a.jsx)(O.O.ContentExpander,{direction:"below",onExpand:ei}),J[41]=ei,J[42]=B):B=J[42],J[43]!==T||J[44]!==E||J[45]!==V||J[46]!==B?(F=(0,a.jsxs)(j.A,{sx:S,children:[T,E,V,B]}),J[43]=T,J[44]=E,J[45]=V,J[46]=B,J[47]=F):F=J[47],J[48]!==q.repoName||J[49]!==q.repoOwner?($=(0,u.Do2)({name:q.repoName,ownerLogin:q.repoOwner}),J[48]=q.repoName,J[49]=q.repoOwner,J[50]=$):$=J[50],J[51]!==q.repoName||J[52]!==q.repoOwner||J[53]!==$?(z=(0,a.jsxs)(O.O.DetailLink,{href:$,icon:y.RepoIcon,children:[q.repoOwner,"/",q.repoName]}),J[51]=q.repoName,J[52]=q.repoOwner,J[53]=$,J[54]=z):z=J[54],J[55]!==et||J[56]!==K?.range||J[57]!==q.commitOID||J[58]!==q.path||J[59]!==q.repoName||J[60]!==q.repoOwner?(W=et&&(0,a.jsxs)(O.O.DetailLink,{icon:y.PeopleIcon,href:(0,u.buO)({owner:q.repoOwner,repo:q.repoName,commitish:q.commitOID,filePath:q.path,lineNumber:K?.range.start}),children:[et.totalCount," ",1===et.totalCount?"contributor":"contributors"]}),J[55]=et,J[56]=K?.range,J[57]=q.commitOID,J[58]=q.path,J[59]=q.repoName,J[60]=q.repoOwner,J[61]=W):W=J[61],J[62]!==en||J[63]!==q.repoName||J[64]!==q.repoOwner?(H=en&&(0,a.jsxs)(O.O.DetailLink,{icon:y.HistoryIcon,href:(0,u.$Qz)({owner:q.repoOwner,repo:q.repoName,commitish:en?.oid}),children:[en?.author?.displayName," updated ",(0,a.jsx)(v.A,{datetime:en?.date})]}),J[62]=en,J[63]=q.repoName,J[64]=q.repoOwner,J[65]=H):H=J[65],J[66]!==q.range||J[67]!==q.type?(M="snippet"===q.type?(0,a.jsxs)(a.Fragment,{children:["#",q.range.start,"-",q.range.end]}):null,J[66]=q.range,J[67]=q.type,J[68]=M):M=J[68],J[69]!==q.path||J[70]!==q.repoName||J[71]!==q.repoOwner||J[72]!==q.url||J[73]!==M?(U=(0,a.jsxs)(O.O.DetailLink,{icon:y.LinkExternalIcon,href:q.url,children:[q.repoOwner,"/",q.repoName,"/",q.path,M]}),J[69]=q.path,J[70]=q.repoName,J[71]=q.repoOwner,J[72]=q.url,J[73]=M,J[74]=U):U=J[74],J[75]!==z||J[76]!==W||J[77]!==H||J[78]!==U?(G=(0,a.jsxs)(O.O.Details,{children:[z,W,H,U]}),J[75]=z,J[76]=W,J[77]=H,J[78]=U,J[79]=G):G=J[79],J[80]!==Z||J[81]!==Y||J[82]!==F||J[83]!==G?(X=(0,a.jsxs)(O.O.Body,{detailsError:Z,detailsLoading:Y,children:[F,G]}),J[80]=Z,J[81]=Y,J[82]=F,J[83]=G,J[84]=X):X=J[84],J[85]!==_||J[86]!==X?(Q=(0,a.jsxs)(O.O.Frame,{children:[_,X]}),J[85]=_,J[86]=X,J[87]=Q):Q=J[87],Q}function R(e){let t,n,r=(0,i.c)(3),{children:o}=e;return r[0]===Symbol.for("react.memo_cache_sentinel")?(t={p:2,display:"flex",flex:1,alignItems:"center",justifyContent:"space-between",backgroundColor:"canvas.subtle",borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0px 0px"},r[0]=t):t=r[0],r[1]!==o?(n=(0,a.jsx)(j.A,{sx:t,children:o}),r[1]=o,r[2]=n):n=r[2],n}function k(e){let t,n,r,o=(0,i.c)(6),{headerInfo:s}=e;o[0]===Symbol.for("react.memo_cache_sentinel")?(t={maxWidth:"100%",color:"fg.subtle"},o[0]=t):t=o[0];let l=`${s.lineInfo.truncatedLoc} lines (${s.lineInfo.truncatedSloc} loc) \xb7 ${s.blobSize}`;return o[1]!==l?(n=(0,a.jsx)("span",{children:l}),o[1]=l,o[2]=n):n=o[2],o[3]!==s.blobSize||o[4]!==n?(r=(0,a.jsx)(C.A,{title:s.blobSize,inline:!0,sx:t,"data-testid":"blob-size",children:n}),o[3]=s.blobSize,o[4]=n,o[5]=r):r=o[5],r}function A(e){let t,n=(0,i.c)(17),{headerInfo:r}=e;if(n[0]!==r.displayName||n[1]!==r.isLfs||n[2]!==r.rawBlobUrl||n[3]!==r.viewable){let e,o,i,s,l,c,d=new URL(r.rawBlobUrl,x.fV.origin);d.searchParams.set("download",""),n[5]!==r.displayName||n[6]!==r.isLfs||n[7]!==r.rawBlobUrl?(e=async()=>{r.isLfs||await E(r.rawBlobUrl,r.displayName)},n[5]=r.displayName,n[6]=r.isLfs,n[7]=r.rawBlobUrl,n[8]=e):e=n[8],n[9]===Symbol.for("react.memo_cache_sentinel")?(o={borderTopLeftRadius:0,borderBottomLeftRadius:0},n[9]=o):o=n[9],n[10]!==e?(i={"aria-label":"Download raw content",icon:y.DownloadIcon,size:"small",onClick:e,"data-testid":"download-raw-button",sx:o},n[10]=e,n[11]=i):i=n[11];let m=i;n[12]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex"},n[12]=s):s=n[12];let h=r.viewable?void 0:"true";n[13]===Symbol.for("react.memo_cache_sentinel")?(l={linkButtonSx:T,px:2,borderTopRightRadius:0,borderBottomRightRadius:0,borderRight:"none"},n[13]=l):l=n[13],n[14]!==r.rawBlobUrl||n[15]!==h?(c=(0,a.jsx)(_.z,{href:r.rawBlobUrl,download:h,size:"small",sx:l,"data-testid":"raw-button",children:"Raw"}),n[14]=r.rawBlobUrl,n[15]=h,n[16]=c):c=n[16],t=(0,a.jsxs)(j.A,{sx:s,children:[c,r.isLfs?(0,a.jsx)(S.K,{unsafeDisableTooltip:!0,as:"a","data-turbo":"false",href:d.toString(),...m}):(0,a.jsx)(S.K,{unsafeDisableTooltip:!0,...m})]}),n[0]=r.displayName,n[1]=r.isLfs,n[2]=r.rawBlobUrl,n[3]=r.viewable,n[4]=t}else t=n[4];return t}let P=25,T={"&:hover:not([disabled])":{textDecoration:"none"},"&:focus:not([disabled])":{textDecoration:"none"},"&:active:not([disabled])":{textDecoration:"none"}};async function E(e,t){let n=await fetch(e,{method:"get"}),r=await n.blob(),o=document.createElement("a");o.setAttribute("download",t);let a=URL.createObjectURL(r);o.href=a,o.setAttribute("target","_blank"),o.click(),URL.revokeObjectURL(a)}try{L.displayName||(L.displayName="CodeReferencePreview")}catch{}try{R.displayName||(R.displayName="BlobPreviewHeader")}catch{}try{k.displayName||(k.displayName="BlobSize")}catch{}try{A.displayName||(A.displayName="RawButtons")}catch{}var V=n(53110),B=n(24991);function F(e){let t,n,r,o,s,l,c,d,m,h,f,x,g,b,w,v,C,_,S,N=(0,i.c)(45),{reference:I,detailsLoading:D,detailsError:L,onDismiss:R}=e;N[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(V.A,{icon:y.GitCommitIcon,sx:{mr:2}}),N[0]=t):t=N[0],N[1]===Symbol.for("react.memo_cache_sentinel")?(n={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},N[1]=n):n=N[1],N[2]!==I.message?(r=(0,a.jsx)(j.A,{sx:n,children:I.message}),N[2]=I.message,N[3]=r):r=N[3],N[4]!==R||N[5]!==r?(o=(0,a.jsxs)(O.O.Header,{onDismiss:R,children:[t,r]}),N[4]=R,N[5]=r,N[6]=o):o=N[6],N[7]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex",flexDirection:"row",p:3},N[7]=s):s=N[7];let k=`${I.author.login}.png`;return N[8]===Symbol.for("react.memo_cache_sentinel")?(l={mr:2,flexShrink:0},N[8]=l):l=N[8],N[9]!==k?(c=(0,a.jsx)(p.r,{src:k,sx:l}),N[9]=k,N[10]=c):c=N[10],N[11]===Symbol.for("react.memo_cache_sentinel")?(d={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},N[11]=d):d=N[11],N[12]!==I.author.login?(m=(0,a.jsx)(j.A,{sx:d,children:I.author.login}),N[12]=I.author.login,N[13]=m):m=N[13],N[14]!==m||N[15]!==c?(h=(0,a.jsxs)(j.A,{sx:s,children:[c,m]}),N[14]=m,N[15]=c,N[16]=h):h=N[16],N[17]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsx)(j.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),N[17]=f):f=N[17],N[18]!==I.message?(x=(0,a.jsx)(O.O.Content,{children:(0,a.jsx)(B.To,{markdown:I.message})}),N[18]=I.message,N[19]=x):x=N[19],N[20]===Symbol.for("react.memo_cache_sentinel")?(g=(0,a.jsx)(j.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),N[20]=g):g=N[20],N[21]!==I.repository.name||N[22]!==I.repository.owner?(b=(0,u.Do2)({name:I.repository.name,ownerLogin:I.repository.owner}),N[21]=I.repository.name,N[22]=I.repository.owner,N[23]=b):b=N[23],N[24]!==I.repository.name||N[25]!==I.repository.owner||N[26]!==b?(w=(0,a.jsxs)(O.O.DetailLink,{href:b,icon:y.RepoIcon,children:[I.repository.owner,"/",I.repository.name]}),N[24]=I.repository.name,N[25]=I.repository.owner,N[26]=b,N[27]=w):w=N[27],N[28]!==I.oid||N[29]!==I.permalink||N[30]!==I.repository.name||N[31]!==I.repository.owner?(v=(0,a.jsxs)(O.O.DetailLink,{href:I.permalink,icon:y.LinkExternalIcon,children:[I.repository.owner,"/",I.repository.name,"/commit/",I.oid]}),N[28]=I.oid,N[29]=I.permalink,N[30]=I.repository.name,N[31]=I.repository.owner,N[32]=v):v=N[32],N[33]!==w||N[34]!==v?(C=(0,a.jsxs)(O.O.Details,{children:[w,v]}),N[33]=w,N[34]=v,N[35]=C):C=N[35],N[36]!==L||N[37]!==D||N[38]!==h||N[39]!==x||N[40]!==C?(_=(0,a.jsxs)(O.O.Body,{detailsError:L,detailsLoading:D,children:[h,f,x,g,C]}),N[36]=L,N[37]=D,N[38]=h,N[39]=x,N[40]=C,N[41]=_):_=N[41],N[42]!==_||N[43]!==o?(S=(0,a.jsxs)(O.O.Frame,{children:[o,_]}),N[42]=_,N[43]=o,N[44]=S):S=N[44],S}try{F.displayName||(F.displayName="CommitReferencePreview")}catch{}var $=n(67991);let z={SegmentedControl:"MarkdownReferencePreview-module__SegmentedControl--cxHSf"};function W(e){let t,n,r,o,s,l,c,d,m,h,x,j,C,_,S,N,I,D,L,R,k,A,P=(0,i.c)(65),{reference:T,details:E,detailsLoading:V,detailsError:B,onDismiss:F}=e,{contributors:$}=(0,g.u)(T.repoOwner,T.repoName,T.commitOID,T.path),[z]=(0,b.E)(T.repoOwner,T.repoName,T.commitOID,T.path),W=E?.repoIsOrgOwned,M=`${T.repoOwner}.png`;return P[0]===Symbol.for("react.memo_cache_sentinel")?(t={mr:2,flexShrink:0},P[0]=t):t=P[0],P[1]!==W||P[2]!==M?(n=(0,a.jsx)(p.r,{square:W,src:M,sx:t}),P[1]=W,P[2]=M,P[3]=n):n=P[3],P[4]===Symbol.for("react.memo_cache_sentinel")?(r={fontWeight:600,whiteSpace:"nowrap"},P[4]=r):r=P[4],P[5]!==T.repoName||P[6]!==T.repoOwner?(o=(0,a.jsxs)(w.A,{sx:r,children:[T.repoOwner,"/",T.repoName]}),P[5]=T.repoName,P[6]=T.repoOwner,P[7]=o):o=P[7],P[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)(w.A,{sx:{marginX:1},children:"\xb7"}),P[8]=s):s=P[8],P[9]===Symbol.for("react.memo_cache_sentinel")?(l={fontWeight:400},P[9]=l):l=P[9],P[10]!==T.ref?(c=(0,f.gE)(T.ref),P[10]=T.ref,P[11]=c):c=P[11],P[12]!==c?(d=(0,a.jsx)(w.A,{sx:l,children:c}),P[12]=c,P[13]=d):d=P[13],P[14]===Symbol.for("react.memo_cache_sentinel")?(m=(0,a.jsx)(w.A,{sx:{marginX:1},children:"\xb7"}),P[14]=m):m=P[14],P[15]===Symbol.for("react.memo_cache_sentinel")?(h={fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},P[15]=h):h=P[15],P[16]!==T.path?(x=(0,a.jsx)(w.A,{sx:h,children:T.path}),P[16]=T.path,P[17]=x):x=P[17],P[18]!==F||P[19]!==d||P[20]!==x||P[21]!==n||P[22]!==o?(j=(0,a.jsxs)(O.O.Header,{onDismiss:F,children:[n,o,s,d,m,x]}),P[18]=F,P[19]=d,P[20]=x,P[21]=n,P[22]=o,P[23]=j):j=P[23],P[24]!==E?(C=E&&(0,a.jsx)(H,{details:E}),P[24]=E,P[25]=C):C=P[25],P[26]!==T.repoName||P[27]!==T.repoOwner?(_=(0,u.Do2)({name:T.repoName,ownerLogin:T.repoOwner}),P[26]=T.repoName,P[27]=T.repoOwner,P[28]=_):_=P[28],P[29]!==T.repoName||P[30]!==T.repoOwner||P[31]!==_?(S=(0,a.jsxs)(O.O.DetailLink,{href:_,icon:y.RepoIcon,children:[T.repoOwner,"/",T.repoName]}),P[29]=T.repoName,P[30]=T.repoOwner,P[31]=_,P[32]=S):S=P[32],P[33]!==$||P[34]!==E?.range||P[35]!==T.commitOID||P[36]!==T.path||P[37]!==T.repoName||P[38]!==T.repoOwner?(N=$&&(0,a.jsxs)(O.O.DetailLink,{icon:y.PeopleIcon,href:(0,u.buO)({owner:T.repoOwner,repo:T.repoName,commitish:T.commitOID,filePath:T.path,lineNumber:E?.range.start}),children:[$.totalCount," contributors"]}),P[33]=$,P[34]=E?.range,P[35]=T.commitOID,P[36]=T.path,P[37]=T.repoName,P[38]=T.repoOwner,P[39]=N):N=P[39],P[40]!==z||P[41]!==T.repoName||P[42]!==T.repoOwner?(I=z&&(0,a.jsxs)(O.O.DetailLink,{icon:y.HistoryIcon,href:(0,u.$Qz)({owner:T.repoOwner,repo:T.repoName,commitish:z?.oid}),children:[z?.author?.displayName," updated ",(0,a.jsx)(v.A,{datetime:z?.date})]}),P[40]=z,P[41]=T.repoName,P[42]=T.repoOwner,P[43]=I):I=P[43],P[44]!==E?(D=E?(0,a.jsxs)(a.Fragment,{children:["#",E.range.start,"-",E.range.end]}):null,P[44]=E,P[45]=D):D=P[45],P[46]!==T.path||P[47]!==T.repoName||P[48]!==T.repoOwner||P[49]!==T.url||P[50]!==D?(L=(0,a.jsxs)(O.O.DetailLink,{icon:y.LinkExternalIcon,href:T.url,children:[T.repoOwner,"/",T.repoName,"/",T.path,D]}),P[46]=T.path,P[47]=T.repoName,P[48]=T.repoOwner,P[49]=T.url,P[50]=D,P[51]=L):L=P[51],P[52]!==S||P[53]!==N||P[54]!==I||P[55]!==L?(R=(0,a.jsxs)(O.O.Details,{children:[S,N,I,L]}),P[52]=S,P[53]=N,P[54]=I,P[55]=L,P[56]=R):R=P[56],P[57]!==B||P[58]!==V||P[59]!==C||P[60]!==R?(k=(0,a.jsxs)(O.O.Body,{detailsLoading:V,detailsError:B,children:[C,R]}),P[57]=B,P[58]=V,P[59]=C,P[60]=R,P[61]=k):k=P[61],P[62]!==j||P[63]!==k?(A=(0,a.jsxs)(O.O.Frame,{children:[j,k]}),P[62]=j,P[63]=k,P[64]=A):A=P[64],A}function H(e){let t,n,r,o,s,l,c,d,m,h,p,u,f,x,g,b,y,w,v=(0,i.c)(51),{details:C}=e,[_,S]=(0,N.useState)(C.range.start),[I,D]=(0,N.useState)(C.range.end);t=U(C.contents,C.contents.length);let[L,P]=(0,N.useState)("preview");v[0]!==L?(n=e=>{let t=["preview","code"][e];t&&L!==t&&P(t)},v[0]=L,v[1]=n):n=v[1];let T=n,E=C?.headerInfo;v[2]!==C.contents||v[3]!==_?(r=()=>{S(function(e,t){let n=G(e,t),r=function(e){let t;for(let n of e)t=n;return t}(e.slice(0,n).matchAll(/^#+\s/gm));return U(e,r?.index??0)}(C.contents,_))},v[2]=C.contents,v[3]=_,v[4]=r):r=v[4];let V=r;v[5]!==C.contents||v[6]!==I||v[7]!==t?(o=()=>{let e=I;for(;e<t&&e<I+10;)e=function(e,t){let n=G(e,t),r=e.slice(n).match(/^#+\s/m),o=r?n+r.index:e.length;return U(e,o)}(C.contents,e+1);D(e-1)},v[5]=C.contents,v[6]=I,v[7]=t,v[8]=o):o=v[8];let F=o,W=C.contents;if(_){let e;if(v[9]!==I||v[10]!==W||v[11]!==_){let e=function(e,t,n=t-1){let r=-1,o=-1,a=-1;for(let i=1;;i++){if(i===t&&(o=r+1),i===n+1){a=r;break}if(-1===(r=e.indexOf(`
`,r+1)))break}return{startIndex:o,endIndex:a}}(W,_,I);e.endIndex>-1&&(W=W.slice(e.startIndex,e.endIndex)),v[9]=I,v[10]=W,v[11]=_,v[12]=W}else W=v[12];v[13]!==W?(e=W.replace(/^---\n[\s\S]*?\n---\n/,""),v[13]=W,v[14]=e):e=v[14],W=e}s=W,v[15]===Symbol.for("react.memo_cache_sentinel")?(l={border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0 0",marginX:3},v[15]=l):l=v[15],v[16]===Symbol.for("react.memo_cache_sentinel")?(c={display:"flex",alignItems:"baseline",gap:2},v[16]=c):c=v[16];let H="preview"===L;v[17]!==H?(d=(0,a.jsx)($.I.Button,{selected:H,children:"Preview"},"preview'"),v[17]=H,v[18]=d):d=v[18];let X="code"===L;return v[19]!==X?(m=(0,a.jsx)($.I.Button,{selected:X,children:"Code"},"raw"),v[19]=X,v[20]=m):m=v[20],v[21]!==T||v[22]!==m||v[23]!==d?(h=(0,a.jsxs)($.I,{"aria-label":"File view",size:"small",onChange:T,className:z.SegmentedControl,children:[d,m]}),v[21]=T,v[22]=m,v[23]=d,v[24]=h):h=v[24],v[25]!==E?(p=E&&(0,a.jsx)(k,{headerInfo:E}),v[25]=E,v[26]=p):p=v[26],v[27]!==h||v[28]!==p?(u=(0,a.jsxs)(j.A,{sx:c,children:[h,p]}),v[27]=h,v[28]=p,v[29]=u):u=v[29],v[30]!==E?(f=E&&(0,a.jsx)(A,{headerInfo:E}),v[30]=E,v[31]=f):f=v[31],v[32]!==u||v[33]!==f?(x=(0,a.jsxs)(R,{children:[u,f]}),v[32]=u,v[33]=f,v[34]=x):x=v[34],v[35]!==V||v[36]!==_?(g=_>1&&(0,a.jsx)(O.O.ContentExpander,{direction:"above",onExpand:V}),v[35]=V,v[36]=_,v[37]=g):g=v[37],v[38]!==C.contents||v[39]!==L||v[40]!==s?(b=(0,a.jsx)(O.O.Content,{children:"preview"===L?(0,a.jsx)(j.A,{className:"js-snippet-clipboard-copy-unpositioned",sx:{".highlighted":{backgroundColor:M}},children:(0,a.jsx)(B.To,{markdown:s,openLinksInCurrentTab:!1})}):(0,a.jsx)("code",{children:(0,a.jsx)(j.A,{as:"pre",sx:{overflowX:"auto"},children:C.contents})})}),v[38]=C.contents,v[39]=L,v[40]=s,v[41]=b):b=v[41],v[42]!==I||v[43]!==F||v[44]!==t?(y=I<t&&(0,a.jsx)(O.O.ContentExpander,{direction:"below",onExpand:F}),v[42]=I,v[43]=F,v[44]=t,v[45]=y):y=v[45],v[46]!==x||v[47]!==g||v[48]!==b||v[49]!==y?(w=(0,a.jsxs)(j.A,{sx:l,children:[x,g,b,y]}),v[46]=x,v[47]=g,v[48]=b,v[49]=y,v[50]=w):w=v[50],w}function M(e){return`${e.colors.accent.subtle}`}function U(e,t){return function(e){let t=0;for(let n of e)t++;return t}(e.slice(0,t).matchAll(/\n/g))+1}function G(e,t){if(1===t)return 0;let n=-1;for(let r=2;r<=t;r++)if(-1===(n=e.indexOf(`
`,n+1)))return e.length;return n+1}try{W.displayName||(W.displayName="MarkdownReferencePreview")}catch{}try{H.displayName||(H.displayName="MarkdownReferencePreviewContent")}catch{}function X(e){let t,n,r,o,s,l,c,d,m,h,f,x,g,b,w,v,C,_,S,N=(0,i.c)(42),{reference:I,detailsLoading:D,detailsError:L,onDismiss:R}=e;N[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(V.A,{icon:y.GitCommitIcon,sx:{mr:2}}),N[0]=t):t=N[0],N[1]===Symbol.for("react.memo_cache_sentinel")?(n={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},N[1]=n):n=N[1],N[2]!==I.title?(r=(0,a.jsx)(j.A,{sx:n,children:I.title}),N[2]=I.title,N[3]=r):r=N[3],N[4]!==R||N[5]!==r?(o=(0,a.jsxs)(O.O.Header,{onDismiss:R,children:[t,r]}),N[4]=R,N[5]=r,N[6]=o):o=N[6],N[7]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex",flexDirection:"row",p:3},N[7]=s):s=N[7];let k=`${I.authorLogin}.png`;return N[8]===Symbol.for("react.memo_cache_sentinel")?(l={mr:2,flexShrink:0},N[8]=l):l=N[8],N[9]!==k?(c=(0,a.jsx)(p.r,{src:k,sx:l}),N[9]=k,N[10]=c):c=N[10],N[11]===Symbol.for("react.memo_cache_sentinel")?(d={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},N[11]=d):d=N[11],N[12]!==I.authorLogin?(m=(0,a.jsx)(j.A,{sx:d,children:I.authorLogin}),N[12]=I.authorLogin,N[13]=m):m=N[13],N[14]!==m||N[15]!==c?(h=(0,a.jsxs)(j.A,{sx:s,children:[c,m]}),N[14]=m,N[15]=c,N[16]=h):h=N[16],N[17]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsx)(j.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),N[17]=f):f=N[17],N[18]!==I.title?(x=(0,a.jsx)(O.O.Content,{children:(0,a.jsx)(B.To,{markdown:I.title})}),N[18]=I.title,N[19]=x):x=N[19],N[20]===Symbol.for("react.memo_cache_sentinel")?(g=(0,a.jsx)(j.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),N[20]=g):g=N[20],N[21]!==I.repository.name||N[22]!==I.repository.ownerLogin?(b=(0,u.Do2)({name:I.repository.name,ownerLogin:I.repository.ownerLogin}),N[21]=I.repository.name,N[22]=I.repository.ownerLogin,N[23]=b):b=N[23],N[24]!==I.repository.name||N[25]!==I.repository.ownerLogin||N[26]!==b?(w=(0,a.jsxs)(O.O.DetailLink,{href:b,icon:y.RepoIcon,children:[I.repository.ownerLogin,"/",I.repository.name]}),N[24]=I.repository.name,N[25]=I.repository.ownerLogin,N[26]=b,N[27]=w):w=N[27],N[28]!==I.url?(v=(0,a.jsx)(O.O.DetailLink,{href:I.url,icon:y.LinkExternalIcon,children:I.url}),N[28]=I.url,N[29]=v):v=N[29],N[30]!==w||N[31]!==v?(C=(0,a.jsxs)(O.O.Details,{children:[w,v]}),N[30]=w,N[31]=v,N[32]=C):C=N[32],N[33]!==L||N[34]!==D||N[35]!==h||N[36]!==x||N[37]!==C?(_=(0,a.jsxs)(O.O.Body,{detailsError:L,detailsLoading:D,children:[h,f,x,g,C]}),N[33]=L,N[34]=D,N[35]=h,N[36]=x,N[37]=C,N[38]=_):_=N[38],N[39]!==_||N[40]!==o?(S=(0,a.jsxs)(O.O.Frame,{children:[o,_]}),N[39]=_,N[40]=o,N[41]=S):S=N[41],S}try{X.displayName||(X.displayName="PullRequestReferencePreview")}catch{}function Q(e){let t,n,r,o,s=(0,i.c)(20),{reference:l,details:c,detailsLoading:d,detailsError:m,onDismiss:h}=e,p=new Map,f=new Map;if(c?.kind==="suggestionSymbol")for(let e of c.suggestionDefinitions??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;p.has(t)||p.set(t,[]),p.get(t).push(e)}else if(c?.kind==="codeNavSymbol"){for(let e of c.codeNavDefinitions??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;p.has(t)||p.set(t,[]),p.get(t).push(e)}for(let e of c?.codeNavReferences??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;f.has(t)||f.set(t,[]),f.get(t).push(e)}}let x=[...p.values()][0]?.[0]??[...f.values()][0]?.[0],w=p.size>0,j=f.size>0,C=[...p.values()].length,_=[...p.values()].reduce(Z,0),S=[...f.values()].length,N=[...f.values()].reduce(Y,0),{contributors:I}=(0,g.u)(x?.repoOwner,x?.repoName,x?.commitOID,x?.path),[D]=(0,b.E)(x?.repoOwner,x?.repoName,x?.commitOID,x?.path),L=O.O;s[0]!==h||s[1]!==l.name?(t=(0,a.jsx)(O.O.Header,{onDismiss:h,children:l.name}),s[0]=h,s[1]=l.name,s[2]=t):t=s[2];let R=O.O,k=w&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(O.O.SectionDivider,{children:[_," ",1===_?"definition":"definitions",C>1?` across ${C} files`:null]}),[...p.values()].map(q)]}),A=j&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(O.O.SectionDivider,{children:[N," ",1===N?"reference":"references",S>1?` across ${S} files`:null]}),[...f.values()].map((e,t)=>(0,a.jsx)(O.O.CollapsibleSubsection,{title:e[0].path,initiallyOpen:0===t&&!w,children:(0,a.jsx)(O.O.Content,{children:e.map(J)})},e[0].path))]}),P=O.O,T=x&&(0,a.jsxs)(O.O.DetailLink,{href:(0,u.Do2)({name:x.repoName,ownerLogin:x.repoOwner}),icon:y.RepoIcon,children:[x.repoOwner,"/",x.repoName]}),E=I&&x&&(0,a.jsxs)(O.O.DetailLink,{icon:y.PeopleIcon,href:(0,u.buO)({owner:x.repoOwner,repo:x.repoName,commitish:x.commitOID,filePath:x.path}),children:[I.totalCount," ",1===I.totalCount?"contributor":"contributors"]}),V=D&&x&&(0,a.jsxs)(O.O.DetailLink,{icon:y.HistoryIcon,href:(0,u.$Qz)({owner:x.repoOwner,repo:x.repoName,commitish:D?.oid}),children:[D?.author?.displayName," updated ",(0,a.jsx)(v.A,{datetime:D?.date})]}),B=x&&(0,a.jsxs)(O.O.DetailLink,{icon:y.LinkExternalIcon,href:(0,u.nD_)({owner:x.repoOwner,repo:x.repoName,commitish:x.commitOID,filePath:x.path}),children:[x.repoOwner,"/",x.repoName,"/",x.path]});return s[3]!==B||s[4]!==P.Details||s[5]!==T||s[6]!==E||s[7]!==V?(n=(0,a.jsxs)(P.Details,{children:[T,E,V,B]}),s[3]=B,s[4]=P.Details,s[5]=T,s[6]=E,s[7]=V,s[8]=n):n=s[8],s[9]!==m||s[10]!==d||s[11]!==n||s[12]!==R.Body||s[13]!==k||s[14]!==A?(r=(0,a.jsxs)(R.Body,{detailsError:m,detailsLoading:d,children:[k,A,n]}),s[9]=m,s[10]=d,s[11]=n,s[12]=R.Body,s[13]=k,s[14]=A,s[15]=r):r=s[15],s[16]!==L.Frame||s[17]!==r||s[18]!==t?(o=(0,a.jsxs)(L.Frame,{children:[t,r]}),s[16]=L.Frame,s[17]=r,s[18]=t,s[19]=o):o=s[19],o}function J(e,t){return e.highlightedContents?(0,a.jsx)(D,{trimLineBeginnings:1===e.highlightedContents.length,lines:e.highlightedContents,lineNumbers:ee(e)},t):null}function q(e,t){return(0,a.jsx)(O.O.CollapsibleSubsection,{title:e[0].path,initiallyOpen:0===t,children:(0,a.jsx)(O.O.Content,{children:e.map(K)})},e[0].path)}function K(e,t){return e.highlightedContents?(0,a.jsx)(D,{trimLineBeginnings:1===e.highlightedContents.length,lines:e.highlightedContents,lineNumbers:ee(e)},t):null}function Y(e,t){return e+t.length}function Z(e,t){return e+t.length}function ee({range:e}){return e?Array(e.end-e.start+1).fill(null).map((t,n)=>e.start+n):[]}try{Q.displayName||(Q.displayName="SymbolReferencePreview")}catch{}let et=e=>e?.start?e.end?`${e.start}-${e.end}`:`${e.start}`:"",en=e=>{let t=et(e.selectedRange),n=e.url.split(window.location.host)[1];return{href:e.url+t,path:n+t,range:t}};function er(e){let t,n,r,o,s,l,c,d,m,h,f,x,w,C,_=(0,i.c)(48),{reference:S,details:N,detailsLoading:I,detailsError:D,onDismiss:L}=e,R=S.headFile??S.baseFile,{contributors:k}=(0,g.u)(R.repoOwner,R.repoName,R.commitOID,R.path),[A]=(0,b.E)(R.repoOwner,R.repoName,R.commitOID,R.path);_[0]!==S?(t=en(S),_[0]=S,_[1]=t):t=_[1];let{href:P,path:T,range:E}=t,V=N?.repoIsOrgOwned,B=`${R.repoOwner}.png`;return _[2]===Symbol.for("react.memo_cache_sentinel")?(n={mr:2,flexShrink:0},_[2]=n):n=_[2],_[3]!==V||_[4]!==B?(r=(0,a.jsx)(p.r,{square:V,src:B,sx:n}),_[3]=V,_[4]=B,_[5]=r):r=_[5],_[6]===Symbol.for("react.memo_cache_sentinel")?(o={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},_[6]=o):o=_[6],_[7]!==R.path||_[8]!==R.repoName||_[9]!==R.repoOwner||_[10]!==E?(s=(0,a.jsxs)(j.A,{sx:o,children:[R.repoOwner,"/",R.repoName,"/",R.path," ",E]}),_[7]=R.path,_[8]=R.repoName,_[9]=R.repoOwner,_[10]=E,_[11]=s):s=_[11],_[12]!==L||_[13]!==r||_[14]!==s?(l=(0,a.jsxs)(O.O.Header,{onDismiss:L,children:[r,s]}),_[12]=L,_[13]=r,_[14]=s,_[15]=l):l=_[15],_[16]!==R.repoName||_[17]!==R.repoOwner?(c=(0,u.Do2)({name:R.repoName,ownerLogin:R.repoOwner}),_[16]=R.repoName,_[17]=R.repoOwner,_[18]=c):c=_[18],_[19]!==R.repoName||_[20]!==R.repoOwner||_[21]!==c?(d=(0,a.jsxs)(O.O.DetailLink,{href:c,icon:y.RepoIcon,children:[R.repoOwner,"/",R.repoName]}),_[19]=R.repoName,_[20]=R.repoOwner,_[21]=c,_[22]=d):d=_[22],_[23]!==R.commitOID||_[24]!==R.path||_[25]!==R.repoName||_[26]!==R.repoOwner||_[27]!==k?(m=k&&(0,a.jsxs)(O.O.DetailLink,{icon:y.PeopleIcon,href:(0,u.buO)({owner:R.repoOwner,repo:R.repoName,commitish:R.commitOID,filePath:R.path}),children:[k.totalCount," ",1===k.totalCount?"contributor":"contributors"]}),_[23]=R.commitOID,_[24]=R.path,_[25]=R.repoName,_[26]=R.repoOwner,_[27]=k,_[28]=m):m=_[28],_[29]!==R.repoName||_[30]!==R.repoOwner||_[31]!==A?(h=A&&(0,a.jsxs)(O.O.DetailLink,{icon:y.HistoryIcon,href:(0,u.$Qz)({owner:R.repoOwner,repo:R.repoName,commitish:A?.oid}),children:[A?.author?.displayName," updated ",(0,a.jsx)(v.A,{datetime:A?.date})]}),_[29]=R.repoName,_[30]=R.repoOwner,_[31]=A,_[32]=h):h=_[32],_[33]!==P||_[34]!==T?(f=(0,a.jsx)(O.O.DetailLink,{icon:y.LinkExternalIcon,href:P,children:T}),_[33]=P,_[34]=T,_[35]=f):f=_[35],_[36]!==d||_[37]!==m||_[38]!==h||_[39]!==f?(x=(0,a.jsxs)(O.O.Details,{children:[d,m,h,f]}),_[36]=d,_[37]=m,_[38]=h,_[39]=f,_[40]=x):x=_[40],_[41]!==D||_[42]!==I||_[43]!==x?(w=(0,a.jsx)(O.O.Body,{detailsError:D,detailsLoading:I,children:x}),_[41]=D,_[42]=I,_[43]=x,_[44]=w):w=_[44],_[45]!==w||_[46]!==l?(C=(0,a.jsxs)(O.O.Frame,{children:[l,w]}),_[45]=w,_[46]=l,_[47]=C):C=_[47],C}try{er.displayName||(er.displayName="FileDiffReferencePreview")}catch{}var eo=n(59706);function ea(e){let t,n=(0,i.c)(6),{dismissable:r}=e,{reference:o,details:s,detailsLoading:l,detailsError:c,dismissReference:d}=es(),m=r?d:void 0;return n[0]!==s||n[1]!==c||n[2]!==l||n[3]!==o||n[4]!==m?(t=(0,a.jsx)(ei,{reference:o,details:s,detailsLoading:l,detailsError:c,onDismiss:m}),n[0]=s,n[1]=c,n[2]=l,n[3]=o,n[4]=m,n[5]=t):t=n[5],t}function ei(e){let t=(0,i.c)(46),{reference:n,details:r,detailsLoading:o,detailsError:s,onDismiss:l}=e;switch(n.type){case"symbol":{let e,i;return t[0]!==n?(e=(0,m.Vb)(n),t[0]=n,t[1]=e):e=t[1],t[2]!==s||t[3]!==o||t[4]!==l||t[5]!==n||t[6]!==e||t[7]!==r?(i=(0,a.jsx)(Q,{reference:n,details:r,detailsLoading:o,detailsError:s,onDismiss:l},e),t[2]=s,t[3]=o,t[4]=l,t[5]=n,t[6]=e,t[7]=r,t[8]=i):i=t[8],i}case"file":case"snippet":{let e;return t[9]!==r||t[10]!==s||t[11]!==o||t[12]!==l||t[13]!==n?(e="Markdown"===n.languageName?(0,a.jsx)(W,{reference:n,details:r,detailsError:s,detailsLoading:o,onDismiss:l},(0,m.Vb)(n)):(0,a.jsx)(L,{reference:n,details:r,detailsLoading:o,detailsError:s,onDismiss:l},(0,m.Vb)(n)),t[9]=r,t[10]=s,t[11]=o,t[12]=l,t[13]=n,t[14]=e):e=t[14],e}case"file-diff":{let e,i;return t[15]!==n?(e=(0,m.Vb)(n),t[15]=n,t[16]=e):e=t[16],t[17]!==s||t[18]!==o||t[19]!==l||t[20]!==n||t[21]!==e||t[22]!==r?(i=(0,a.jsx)(er,{reference:n,details:r,detailsLoading:o,detailsError:s,onDismiss:l},e),t[17]=s,t[18]=o,t[19]=l,t[20]=n,t[21]=e,t[22]=r,t[23]=i):i=t[23],i}case"commit":{let e,r;return t[24]!==n?(e=(0,m.Vb)(n),t[24]=n,t[25]=e):e=t[25],t[26]!==s||t[27]!==o||t[28]!==l||t[29]!==n||t[30]!==e?(r=(0,a.jsx)(F,{reference:n,detailsLoading:o,detailsError:s,onDismiss:l},e),t[26]=s,t[27]=o,t[28]=l,t[29]=n,t[30]=e,t[31]=r):r=t[31],r}case"pull-request":{let e,r;return t[32]!==n?(e=(0,m.Vb)(n),t[32]=n,t[33]=e):e=t[33],t[34]!==s||t[35]!==o||t[36]!==l||t[37]!==n||t[38]!==e?(r=(0,a.jsx)(X,{reference:n,detailsLoading:o,detailsError:s,onDismiss:l},e),t[34]=s,t[35]=o,t[36]=l,t[37]=n,t[38]=e,t[39]=r):r=t[39],r}case"web-search":{let e,r;return t[40]!==n?(e=(0,m.Vb)(n),t[40]=n,t[41]=e):e=t[41],t[42]!==l||t[43]!==n||t[44]!==e?(r=(0,a.jsx)(eo.I,{reference:n,onDismiss:l},e),t[42]=l,t[43]=n,t[44]=e,t[45]=r):r=t[45],r}default:return null}}function es(){let e,t,n,r,o,a,s=(0,i.c)(19),l=(0,d.b)(),p=(0,c.Pk)().selectedReference,u=p?.type;s[0]!==p?(e=p?(0,m.Vb)(p):void 0,s[0]=p,s[1]=e):e=s[1],s[2]!==u||s[3]!==e?(t=["copilot-reference-preview","copilot","references",u,e],s[2]=u,s[3]=e,s[4]=t):t=s[4],s[5]!==l||s[6]!==p?(n=async()=>{if(!p)return null;let e=await l.service.hydrateReference(p);return e.ok?e.payload:null},s[5]=l,s[6]=p,s[7]=n):n=s[7],s[8]!==t||s[9]!==n?(r={queryKey:t,queryFn:n,staleTime:Number.MIN_VALUE},s[8]=t,s[9]=n,s[10]=r):r=s[10];let{isLoading:f,isError:x,data:g}=(0,h.I)(r);s[11]!==l?(o=()=>l.selectReference(null),s[11]=l,s[12]=o):o=s[12];let b=o,y=g??void 0;return s[13]!==b||s[14]!==x||s[15]!==f||s[16]!==p||s[17]!==y?(a={reference:p,dismissReference:b,details:y,detailsLoading:f,detailsError:x},s[13]=b,s[14]=x,s[15]=f,s[16]=p,s[17]=y,s[18]=a):a=s[18],a}try{ea.displayName||(ea.displayName="CopilotReferencePreview")}catch{}try{ei.displayName||(ei.displayName="CopilotReferencePreviewImpl")}catch{}function el(){var e;let t,n,r,o,c,d=(0,i.c)(13),{dismissReference:m,reference:h}=es(),{screenSize:p}=(0,l.lm)(),u=p<l.Gy.large;d[0]!==h?(e=h,t=e?.type==="web-search"?`Bing search results for "${e.query}"`:"Reference",d[0]=h,d[1]=t):t=d[1];let f=t,x=!!h;return d[2]!==u?(n={display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:"var(--borderRadius-large)",margin:0,...u?{height:["auto","auto"],top:"1dvh",width:"90dvw"}:{top:"10vh",width:"50dvw",maxWidth:"1024px"}},d[2]=u,d[3]=n):n=d[3],d[4]!==f?(r=(0,a.jsx)(s.A.Header,{children:f}),d[4]=f,d[5]=r):r=d[5],d[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)(ea,{}),d[6]=o):o=d[6],d[7]!==m||d[8]!==x||d[9]!==n||d[10]!==r||d[11]!==f?(c=(0,a.jsxs)(s.A,{"aria-label":f,isOpen:x,onDismiss:m,sx:n,children:[r,o]}),d[7]=m,d[8]=x,d[9]=n,d[10]=r,d[11]=f,d[12]=c):c=d[12],c}try{el.displayName||(el.displayName="CopilotReferencePreviewDialog")}catch{}var ec=n(66871),ed=n(38007),em=n(37573),eh=n(96615),ep=n(60039),eu=n(6442),ef=n(55847),ex=n(94977),eg=n(34164),eb=n(18312),ey=n(70757),ew=n(27851),ej=n(42080),ev=n(26807),eC=n(59214),e_=n(91819),eS=n(33900),eN=n(74244),eO=n(44435);let eI={copilotChatPanel:"ChatPanel-module__copilotChatPanel--YfhVH",Overlay_1:"ChatPanel-module__Overlay_1--yDvKe",ChatPanelContainer:"ChatPanel-module__ChatPanelContainer--LA3ES",verticalResizeTarget:"ChatPanel-module__verticalResizeTarget--oe2N2",horizontalResizeTarget:"ChatPanel-module__horizontalResizeTarget--FGshS",cornerResizeTarget:"ChatPanel-module__cornerResizeTarget--d741U",panelContentContainer:"ChatPanel-module__panelContentContainer--hMn7b"};var eD=n(85466);let eL={FloatingButtonContainer:"FloatingButton-module__FloatingButtonContainer--irCte"},eR=()=>{let e,t,n=(0,i.c)(7),r=(0,c.Pk)(),o=(0,d.b)();n[0]!==r?(e=(0,eO.W)(r),n[0]=r,n[1]=e):e=n[1];let s=e;return n[2]!==o||n[3]!==r.chatVisibleSettingPath||n[4]!==r.currentView||n[5]!==s?(t=(0,a.jsx)(eD.v,{tabIndex:-1,id:"copilot-floating-button",icon:y.CopilotIcon,label:"Open Copilot chat","aria-controls":e_.wJ,tooltipDirection:"w",onClick:()=>{o.openChat(s,r.currentView,"floating-button-v2",r.chatVisibleSettingPath)},"data-hotkey":"Shift+Z",className:eL.FloatingButtonContainer}),n[2]=o,n[3]=r.chatVisibleSettingPath,n[4]=r.currentView,n[5]=s,n[6]=t):t=n[6],t};try{eR.displayName||(eR.displayName="FloatingButton")}catch{}var ek=n(42342);let eA=e=>{let t,n,r,o,s,l,h,p=(0,i.c)(27),{children:u,initialFocusRef:f,staffDialogRef:x,handleClose:g,panelWidth:b,panelHeight:y,startResize:w,onResizerKeyDown:v}=e,C=(0,c.Pk)(),{chatIsOpen:_,chatIsVisible:S,currentTopic:O}=C,I=C.entryPointId??e_.fv,D=(0,N.useRef)(null),L=(0,N.useRef)(null);p[0]!==I?(t=()=>{L.current=document.getElementById(I)},n=[I],p[0]=I,p[1]=t,p[2]=n):(t=p[1],n=p[2]),(0,N.useEffect)(t,n),p[3]!==g?(r=()=>{D.current&&D.current.contains(document.activeElement)&&g(!0)},p[3]=g,p[4]=r):r=p[4];let R=r,k=(0,d.b)();p[5]!==C?(o=(0,eO.W)(C),p[5]=C,p[6]=o):o=p[6];let A=o,P=(0,ev.Z)();p[7]!==O||p[8]!==P||p[9]!==C.currentReferences||p[10]!==A?(s=()=>{(0,ed.BI)("dotcom_chat.activate",{target:"IMMERSIVE_OPTION",mode:"assistive"}),eN.J.setCurrentReferences(A?.id??null,C.currentReferences),A?P(`${m.Jz}/c/${A.id}`):O&&(0,m.Z6)(O)?P(`${m.Jz}/r/${O.ownerLogin}/${O.name}`):P(m.Jz)},p[7]=O,p[8]=P,p[9]=C.currentReferences,p[10]=A,p[11]=s):s=p[11];let T=s;return p[12]!==_||p[13]!==S||p[14]!==u||p[15]!==f||p[16]!==k||p[17]!==T||p[18]!==R||p[19]!==v||p[20]!==y||p[21]!==b||p[22]!==x||p[23]!==w?(l=_?(0,a.jsxs)(eC.Ay,{id:e_.wJ,className:(0,eg.$)(eI.copilotChatPanel,eI.Overlay_1),ref:D,portalContainerName:(0,ew.G7)("primer_react_unified_portal_root")?void 0:ek.Gj,onEscape:R,onClickOutside:eP,ignoreClickRefs:[x],initialFocusRef:f,returnFocusRef:L,sx:{height:_?`${y}px`:"48px",minHeight:_?`${eS.cx}px`:void 0,width:_?`${b}px`:"400px",minWidth:`${eS.Ld}px`},right:8,bottom:8,anchorSide:"inside-top",position:"fixed",role:"dialog","aria-labelledby":e_.Qs,children:[(0,a.jsx)(ej.ak,{commands:{"copilot-chat:close-assistive":()=>k.closeChat()}}),(0,a.jsx)(ej.tL,{commands:{"copilot-chat:continue-in-immersive":T},children:(0,a.jsx)("section",{id:e_.Qs,"aria-label":"Copilot chat panel",style:{height:"100%"},children:(0,a.jsxs)("div",{"data-testid":e_.Qs,className:eI.ChatPanelContainer,children:[(0,a.jsx)(j.A,{id:"vertical-resize-click-target",sx:{cursor:_?"ns-resize":void 0},onMouseDown:e=>w(e,!1,!0),className:eI.verticalResizeTarget}),(0,a.jsx)(j.A,{sx:{cursor:_?"ew-resize":void 0},onMouseDown:e=>w(e,!0,!1),className:eI.horizontalResizeTarget}),(0,a.jsx)(j.A,{sx:{cursor:_?"nwse-resize":"undefined"},"aria-label":"Chat panel resizer","aria-valuetext":`${b}, ${y}`,"aria-valuenow":b,role:"separator",onMouseDown:e=>w(e,!0,!0),tabIndex:0,onKeyDown:v,className:eI.cornerResizeTarget}),(0,a.jsx)("div",{className:eI.panelContentContainer,children:u})]})})})]}):S&&!(0,ew.G7)("copilot_no_floating_button")?(0,a.jsx)(eR,{}):null,p[12]=_,p[13]=S,p[14]=u,p[15]=f,p[16]=k,p[17]=T,p[18]=R,p[19]=v,p[20]=y,p[21]=b,p[22]=x,p[23]=w,p[24]=l):l=p[24],p[25]!==l?(h=(0,a.jsx)(a.Fragment,{children:l}),p[25]=l,p[26]=h):h=p[26],h};try{eA.displayName||(eA.displayName="ChatPanel")}catch{}function eP(){}var eT=n(34700),eE=n(7479),eV=n(84217),eB=n(47139),eF=n(10569),e$=n(15385),ez=n(99377),eW=n(31971),eH=n(33484);let eM={HeaderContainer:"Header-module__HeaderContainer--SeJOE",headerTitleContainer:"Header-module__headerTitleContainer--vF7I3",HeaderTitle:"Header-module__HeaderTitle--eO3BF",headerActions:"Header-module__headerActions--iiiFe",betaLabel:"Header-module__betaLabel--m17DA",actionButton:"Header-module__actionButton--B2SP4",buttonSeparator:"Header-module__buttonSeparator--kpI9z"};var eU=n(75320),eG=n(73451),eX=n(34614),eQ=n(9591),eJ=n(16255),eq=n(9852),eK=n(39226);let eY={dialogContentContainer:"ExperimentsDialog-module__dialogContentContainer--e7sQ_",experimentsInput:"ExperimentsDialog-module__experimentsInput--vGvhl"},eZ=e=>{let t,n,r,o,s,l,c,d,m,h,p,u,f,x=(0,i.c)(29),{onDismiss:g,experimentsDialogRef:b}=e,[y,w]=(0,N.useState)(e0),[j,v]=(0,N.useState)(void 0),C=(0,N.useRef)("\u200B");x[0]!==y||x[1]!==g?(t=()=>{let e=[];for(let t of y.split(","))if(""!==t.trim()){if(2!==t.split("=").length){v(`Invalid experiment key=value pair${C.current}`),C.current=C.current+"\u200B";return}v(""),e.push(t)}(0,eK.R)(e),g()},x[0]=y,x[1]=g,x[2]=t):t=x[2];let _=t;return x[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)(eG.A.Label,{children:"Experiments"}),x[3]=n):n=x[3],x[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("code",{children:"key=value"}),x[4]=r):r=x[4],x[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)(eG.A.Caption,{children:(0,a.jsxs)("span",{children:["List experiments as comma separated ",r," pairs. To see available experiments,"," ",(0,a.jsx)(eX.A,{inline:!0,target:"_blank",href:`/search?q=${encodeURIComponent("repo:github/copilot-api path:experiments.go")}`,children:"read this code"}),"."]})}),x[5]=o):o=x[5],x[6]===Symbol.for("react.memo_cache_sentinel")?(s=e=>w(e.target.value),x[6]=s):s=x[6],x[7]!==_?(l=e=>{"Enter"===e.key&&_()},x[7]=_,x[8]=l):l=x[8],x[9]!==y||x[10]!==l?(c=(0,a.jsx)(eQ.A,{"aria-label":"Experiments",name:"experiments",value:y,onChange:s,onKeyDown:l,className:eY.experimentsInput}),x[9]=y,x[10]=l,x[11]=c):c=x[11],x[12]!==j?(d=j&&(0,a.jsx)(eG.A.Validation,{variant:"error",children:j}),x[12]=j,x[13]=d):d=x[13],x[14]!==c||x[15]!==d?(m=(0,a.jsx)(eq.l.Body,{children:(0,a.jsx)("div",{className:eY.dialogContentContainer,children:(0,a.jsxs)(eG.A,{children:[n,o,c,d]})})}),x[14]=c,x[15]=d,x[16]=m):m=x[16],x[17]!==g?(h={type:"button",onClick:g,content:"Cancel"},x[17]=g,x[18]=h):h=x[18],x[19]!==_?(p={type:"button",onClick:_,content:"Save",buttonType:"primary"},x[19]=_,x[20]=p):p=x[20],x[21]!==h||x[22]!==p?(u=(0,a.jsx)(eq.l.Footer,{children:(0,a.jsx)(eq.l.Buttons,{buttons:[h,p]})}),x[21]=h,x[22]=p,x[23]=u):u=x[23],x[24]!==b||x[25]!==g||x[26]!==u||x[27]!==m?(f=(0,a.jsx)(eJ.Z,{children:(0,a.jsxs)(eq.l,{ref:b,onClose:g,title:"Experiments",width:"xlarge",children:[m,u]})}),x[24]=b,x[25]=g,x[26]=u,x[27]=m,x[28]=f):f=x[28],f};try{eZ.displayName||(eZ.displayName="ExperimentsDialog")}catch{}function e0(){return(0,eK.f)().join(",")}var e1=n(45518);let e2=e=>{let t,n,r,o=(0,i.c)(11),{dialogType:s,onDismiss:l,staffDialogRef:c}=e;return o[0]!==s||o[1]!==l||o[2]!==c?(t=s===ez.hs.Experiments&&(0,a.jsx)(eZ,{experimentsDialogRef:c,onDismiss:l}),o[0]=s,o[1]=l,o[2]=c,o[3]=t):t=o[3],o[4]!==s||o[5]!==l||o[6]!==c?(n=s===ez.hs.Prompt&&(0,a.jsx)(e1.X,{promptDialogRef:c,onDismiss:l}),o[4]=s,o[5]=l,o[6]=c,o[7]=n):n=o[7],o[8]!==t||o[9]!==n?(r=(0,a.jsxs)(a.Fragment,{children:[t,n]}),o[8]=t,o[9]=n,o[10]=r):r=o[10],r};try{e2.displayName||(e2.displayName="StaffDialogs")}catch{}let e3=e=>{let t,n,r,o,s,l,m,h,p,u,f,x,g,b,w=(0,i.c)(54),v=(0,c.Pk)(),C=(0,d.b)(),[_,S]=(0,N.useState)(!1);w[0]!==v?(t=(0,eO.W)(v),w[0]=v,w[1]=t):t=w[1];let O=t,{showTopicPicker:I,messages:D,streamingMessage:L}=v,R=O?.name??v.restoredThreadTitle;w[2]!==C||w[3]!==O?(n=async()=>O&&C.deleteThread(O),w[2]=C,w[3]=O,w[4]=n):n=w[4];let k=n;w[5]===Symbol.for("react.memo_cache_sentinel")?(r=(0,ew.G7)("lifecycle_label_name_updates"),w[5]=r):r=w[5];let A=r;w[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,ew.G7)("copilot_no_floating_button"),w[6]=o):o=w[6];let P=o,T=(0,N.useRef)(null),E="immersive"===v.mode?1:3,V=I?"none":"1px solid";return w[7]!==E||w[8]!==V?(s={pl:E,borderBottom:V},w[7]=E,w[8]=V,w[9]=s):s=w[9],w[10]!==D||w[11]!==e.isImmersive||w[12]!==e.isResponding||w[13]!==I||w[14]!==v.chatIsOpen||w[15]!==v.currentView||w[16]!==R?(l="thread"===v.currentView?!I&&!e.isImmersive&&0===D.length&&v.chatIsOpen&&(0,a.jsx)(eV.A,{as:"h2",className:eM.HeaderTitle,children:"thread"===v.currentView?(0,a.jsx)(a.Fragment,{children:R?(0,a.jsx)("span",{className:"Truncate",children:(0,a.jsx)("span",{className:"Truncate-text",title:R,children:R})}):e.isResponding&&!v.chatIsOpen?(0,a.jsx)(a.Fragment,{children:"Responding\u2026"}):v.chatIsOpen?!I&&(0,a.jsx)(a.Fragment,{children:"New conversation"}):(0,a.jsx)(a.Fragment,{children:"Ask Copilot"})}):"Copilot"}):(0,a.jsx)(e4,{}),w[10]=D,w[11]=e.isImmersive,w[12]=e.isResponding,w[13]=I,w[14]=v.chatIsOpen,w[15]=v.currentView,w[16]=R,w[17]=l):l=w[17],w[18]!==l?(m=(0,a.jsx)("div",{className:eM.headerTitleContainer,children:l}),w[18]=l,w[19]=m):m=w[19],w[20]!==k||w[21]!==C||w[22]!==D||w[23]!==e.setShowStaffDialog||w[24]!==v.chatIsOpen||w[25]!==v.currentView||w[26]!==v.renderBetaLabel||w[27]!==O?(h=v.chatIsOpen&&(0,a.jsxs)(a.Fragment,{children:[v.renderBetaLabel&&(A?(0,a.jsx)(eT.X,{className:"mr-2"}):(0,a.jsx)(eB.A,{variant:"success",className:eM.betaLabel,children:"Beta"})),"thread"===v.currentView?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eD.v,{hidden:0===D.length,variant:"invisible",icon:y.PlusIcon,label:"New conversation",tooltipDirection:"s",onClick:async()=>{await C.selectThread(null)},className:eM.actionButton}),(0,a.jsx)(e5,{anchorRef:T,handleDelete:k,thread:O,setShowStaffDialog:e.setShowStaffDialog,setShowPersonalInstructionsDialog:S})]}):(0,a.jsx)(eD.v,{variant:"invisible",icon:y.PlusIcon,label:"New conversation",tooltipDirection:"w",onClick:async()=>{await C.selectThread(null)},className:eM.actionButton})]}),w[20]=k,w[21]=C,w[22]=D,w[23]=e.setShowStaffDialog,w[24]=v.chatIsOpen,w[25]=v.currentView,w[26]=v.renderBetaLabel,w[27]=O,w[28]=h):h=w[28],w[29]!==C||w[30]!==e.isImmersive||w[31]!==v.chatIsOpen||w[32]!==v.chatVisibleSettingPath||w[33]!==v.currentView||w[34]!==L||w[35]!==O?(p=!e.isImmersive&&(0,a.jsxs)(a.Fragment,{children:[v.chatIsOpen&&(0,a.jsx)("div",{className:eM.buttonSeparator}),(0,a.jsx)(ej.N5,{commandId:"copilot-chat:continue-in-immersive",variant:"invisible",icon:y.ScreenFullIcon,"aria-label":"Continue in immersive",disabled:!!L,tooltipDirection:"sw",className:eM.actionButton}),P?(0,a.jsx)(ej.N5,{commandId:"copilot-chat:close-assistive",variant:"invisible",icon:y.XIcon,tooltipDirection:"sw",className:eM.actionButton}):(0,a.jsx)(eD.v,{variant:"invisible",icon:v.chatIsOpen?y.ChevronDownIcon:y.ChevronUpIcon,label:v.chatIsOpen?"Collapse":"Expand",tooltipDirection:v.chatIsOpen?"sw":"w",onClick:v.chatIsOpen?()=>C.closeChat():()=>C.openChat(O,v.currentView,"header",v.chatVisibleSettingPath),"data-hotkey":"Shift+Z",className:eM.actionButton})]}),w[29]=C,w[30]=e.isImmersive,w[31]=v.chatIsOpen,w[32]=v.chatVisibleSettingPath,w[33]=v.currentView,w[34]=L,w[35]=O,w[36]=p):p=w[36],w[37]!==p||w[38]!==h?(u=(0,a.jsxs)("div",{className:eM.headerActions,children:[h,p]}),w[37]=p,w[38]=h,w[39]=u):u=w[39],w[40]!==e?(f=()=>e.setShowStaffDialog(ez.hs.None),w[40]=e,w[41]=f):f=w[41],w[42]!==e.showStaffDialog||w[43]!==e.staffDialogRef||w[44]!==f?(x=(0,a.jsx)(e2,{dialogType:e.showStaffDialog,staffDialogRef:e.staffDialogRef,onDismiss:f}),w[42]=e.showStaffDialog,w[43]=e.staffDialogRef,w[44]=f,w[45]=x):x=w[45],w[46]!==_?(g=_&&(0,a.jsx)(eU.Y,{returnFocusRef:T,onDismiss:()=>S(!1)}),w[46]=_,w[47]=g):g=w[47],w[48]!==u||w[49]!==x||w[50]!==g||w[51]!==s||w[52]!==m?(b=(0,a.jsxs)(j.A,{sx:s,className:eM.HeaderContainer,children:[m,u,x,g]}),w[48]=u,w[49]=x,w[50]=g,w[51]=s,w[52]=m,w[53]=b):b=w[53],b},e4=()=>{let e,t,n,r=(0,i.c)(7),{mode:o}=(0,c.Pk)(),s=(0,d.b)();r[0]!==s?(e=()=>s.viewCurrentThread(),r[0]=s,r[1]=e):e=r[1];let l="assistive"===o?"-8px":void 0;return r[2]!==l?(t={marginLeft:l},r[2]=l,r[3]=t):t=r[3],r[4]!==e||r[5]!==t?(n=(0,a.jsx)(ef.Q,{leadingVisual:y.ArrowLeftIcon,variant:"invisible",onClick:e,sx:t,className:eM.actionButton,children:"Back"}),r[4]=e,r[5]=t,r[6]=n):n=r[6],n},e5=e=>{let t,n,r,o,s,l,h,p,u,f,x,g,b,w,j,v,C,_,S,O,I,D,L,R,k,A,P=(0,i.c)(56),[T,E]=(0,N.useState)(!1),{chatVisibleSettingPath:V,mode:B,repoCustomInstructionsEnabled:F,currentReferences:$}=(0,c.Pk)(),z=(0,d.b)(),W=(0,N.useRef)(null);P[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,ew.G7)("copilot_no_floating_button"),P[0]=t):t=P[0];let H=t,M=eW.W.staffPromptDialog;P[1]!==$?(n=(0,m.NJ)($),P[1]=$,P[2]=n):n=P[2];let U=n;P[3]!==z?(r=()=>{z.fetchThreads(),z.viewAllThreads(),(0,ed.BI)("copilot.view-conversations-clicked")},P[3]=z,P[4]=r):r=P[4];let G=r;P[5]!==e?(o=()=>{e.handleDelete(),E(!1)},P[5]=e,P[6]=o):o=P[6];let X=o;P[7]===Symbol.for("react.memo_cache_sentinel")?(l=(0,eE.X)(),P[7]=l):l=P[7],s=l;let Q=!e.thread;P[8]===Symbol.for("react.memo_cache_sentinel")?(h=()=>E(e6),P[8]=h):h=P[8],P[9]!==T?(p=(0,a.jsx)(eF.W.Anchor,{children:(0,a.jsx)(eD.v,{icon:y.KebabHorizontalIcon,variant:"invisible",label:"Conversation options",tooltipDirection:"s",hideTooltip:T,className:eM.actionButton})}),P[9]=T,P[10]=p):p=P[10],P[11]!==U.length||P[12]!==z||P[13]!==F?(u=U.length>0&&(0,a.jsxs)(e$.l.Item,{onSelect:()=>{z.toggleRepoCustomInstructions(!F)},children:[(0,a.jsx)(e$.l.LeadingVisual,{children:(0,a.jsx)(y.NoteIcon,{})}),F?"Disable custom instructions":"Enable custom instructions"]}),P[11]=U.length,P[12]=z,P[13]=F,P[14]=u):u=P[14];let J=Q?"default":"danger";return P[15]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsx)(e$.l.LeadingVisual,{children:(0,a.jsx)(y.TrashIcon,{})}),P[15]=f):f=P[15],P[16]===Symbol.for("react.memo_cache_sentinel")?(x=(0,a.jsx)("p",{id:"delete-conversation-description",className:"sr-only",children:"This is a destructive action that cannot be undone"}),P[16]=x):x=P[16],P[17]!==Q||P[18]!==X||P[19]!==J?(g=(0,a.jsxs)(e$.l.Item,{variant:J,onSelect:X,disabled:Q,"aria-describedby":"delete-conversation-description",children:[f,"Delete conversation",x]}),P[17]=Q,P[18]=X,P[19]=J,P[20]=g):g=P[20],P[21]===Symbol.for("react.memo_cache_sentinel")?(b=(0,a.jsx)(e$.l.Divider,{}),P[21]=b):b=P[21],P[22]!==e?(w=()=>e.setShowPersonalInstructionsDialog(!0),P[22]=e,P[23]=w):w=P[23],P[24]===Symbol.for("react.memo_cache_sentinel")?(j=(0,a.jsx)(e$.l.LeadingVisual,{children:(0,a.jsx)(y.ToolsIcon,{})}),P[24]=j):j=P[24],P[25]!==w?(v=(0,a.jsxs)(e$.l.Item,{onSelect:w,children:[j,"Personal instructions"]}),P[25]=w,P[26]=v):v=P[26],P[27]!==G||P[28]!==B?(C="assistive"===B&&(0,a.jsxs)(e$.l.Item,{onSelect:G,children:[(0,a.jsx)(e$.l.LeadingVisual,{children:(0,a.jsx)(y.HistoryIcon,{})}),"View all conversations"]}),P[27]=G,P[28]=B,P[29]=C):C=P[29],P[30]===Symbol.for("react.memo_cache_sentinel")?(_=()=>{W.current?.openDialog(),(0,ed.BI)("dotcom_chat.activate",{target:"META_CONTEXT_MENU_GIVE_FEEDBACK",mode:"assistive"})},P[30]=_):_=P[30],P[31]===Symbol.for("react.memo_cache_sentinel")?(S=(0,a.jsxs)(e$.l.Item,{onSelect:_,children:[(0,a.jsx)(e$.l.LeadingVisual,{children:(0,a.jsx)(y.CommentDiscussionIcon,{})}),"Give feedback"]}),P[31]=S):S=P[31],P[32]!==V||P[33]!==z||P[34]!==B?(O="assistive"===B&&!H&&(0,a.jsxs)(e$.l.Item,{onSelect:()=>{z.hideChat(V)},children:[(0,a.jsx)(e$.l.LeadingVisual,{children:(0,a.jsx)(y.EyeClosedIcon,{})}),"Hide Copilot chat"]}),P[32]=V,P[33]=z,P[34]=B,P[35]=O):O=P[35],P[36]!==e?(I=s&&(0,a.jsxs)(e$.l.Item,{onSelect:()=>e.setShowStaffDialog(ez.hs.Experiments),children:[(0,a.jsx)(e$.l.LeadingVisual,{children:(0,a.jsx)(y.BeakerIcon,{})}),"Configure experiments",(0,a.jsx)(e$.l.TrailingVisual,{children:(0,a.jsx)(eB.A,{variant:"attention",children:"Staff"})})]}),P[36]=e,P[37]=I):I=P[37],P[38]!==e?(D=s&&M&&(0,a.jsxs)(e$.l.Item,{onSelect:()=>e.setShowStaffDialog(ez.hs.Prompt),children:[(0,a.jsx)(e$.l.LeadingVisual,{children:(0,a.jsx)(y.BeakerIcon,{})}),"Adjust prompts",(0,a.jsx)(e$.l.TrailingVisual,{children:(0,a.jsx)(eB.A,{variant:"attention",children:"Staff"})})]}),P[38]=e,P[39]=D):D=P[39],P[40]!==g||P[41]!==v||P[42]!==C||P[43]!==O||P[44]!==I||P[45]!==D||P[46]!==u?(L=(0,a.jsx)(ek.UJ,{children:(0,a.jsxs)(e$.l,{children:[u,g,b,v,C,S,O,I,D]})}),P[40]=g,P[41]=v,P[42]=C,P[43]=O,P[44]=I,P[45]=D,P[46]=u,P[47]=L):L=P[47],P[48]!==T||P[49]!==e.anchorRef||P[50]!==L||P[51]!==p?(R=(0,a.jsxs)(eF.W,{open:T,onOpenChange:h,anchorRef:e.anchorRef,children:[p,L]}),P[48]=T,P[49]=e.anchorRef,P[50]=L,P[51]=p,P[52]=R):R=P[52],P[53]===Symbol.for("react.memo_cache_sentinel")?(k=(0,a.jsx)(eH.l,{ref:W,mode:"assistive"}),P[53]=k):k=P[53],P[54]!==R?(A=(0,a.jsxs)(a.Fragment,{children:[R,k]}),P[54]=R,P[55]=A):A=P[55],A};try{e3.displayName||(e3.displayName="Header")}catch{}try{e4.displayName||(e4.displayName="ReturnToCurrentThreadButton")}catch{}try{e5.displayName||(e5.displayName="ThreadOptionButton")}catch{}function e6(e){return!e}var e7=n(31637),e8=n(50539),e9=n(8579),te=n(81007),tt=n(96339),tn=n(66889),tr=n(99357),to=n(83880),ta=n(40136),ti=n(78929);let ts={dialog:"CommandWindow-module__dialog--nK81t",copilotAvatar:"CommandWindow-module__copilotAvatar--ye1FK",commandListItemSelected:"CommandWindow-module__commandListItemSelected--EuUNl",chatMessageWrapper:"CommandWindow-module__chatMessageWrapper--KDhKM",chatDisplayContainer:"CommandWindow-module__chatDisplayContainer--vrWiT"};function tl(e){let t,n,r,o=(0,i.c)(10),{headingText:s,commands:l,onSelect:c}=e;if(o[0]!==s?(t=(0,a.jsx)(e$.l.GroupHeading,{as:"h4",className:"ml-n2",children:s}),o[0]=s,o[1]=t):t=o[1],o[2]!==l||o[3]!==c){let e;o[5]!==c?(e=e=>{let t=y[e.iconName];return(0,a.jsxs)(e$.l.Item,{className:(0,eg.$)("p-2",e.selected?ts.commandListItemSelected:""),onSelect:()=>c(e),children:[(0,a.jsx)(e$.l.LeadingVisual,{children:(0,a.jsx)(t,{})}),e.name,e.selected&&(0,a.jsx)(e$.l.TrailingVisual,{children:"Ask Copilot"})]},e.name)},o[5]=c,o[6]=e):e=o[6],n=l.map(e),o[2]=l,o[3]=c,o[4]=n}else n=o[4];return o[7]!==t||o[8]!==n?(r=(0,a.jsx)(e$.l,{variant:"full",className:"my-2",children:(0,a.jsxs)(e$.l.Group,{children:[t,n]})}),o[7]=t,o[8]=n,o[9]=r):r=o[9],r}try{tl.displayName||(tl.displayName="CommandList")}catch{}function tc(e){let t,n,r,o=(0,i.c)(7),{context:s}=e;if(!s)return;o[0]!==s?(t=function(e){if("pull-request"===e.type)return{name:`${e.number}`,icon:y.GitPullRequestIcon}}(s),o[0]=s,o[1]=t):t=o[1];let l=t;if(!l)return;let{icon:c,name:d}=l;return o[2]!==c?(n=c&&(0,a.jsx)(c,{className:"mr-1 fgColor-open",size:"small"}),o[2]=c,o[3]=n):n=o[3],o[4]!==d||o[5]!==n?(r=(0,a.jsxs)("div",{className:"fgColor-muted bgColor-muted px-2 py-1 rounded-2 f6",children:[n,d]}),o[4]=d,o[5]=n,o[6]=r):r=o[6],r}try{tc.displayName||(tc.displayName="ContextLabel")}catch{}var td=n(53655);function tm(e){let t,n,r,o,s,l=(0,i.c)(10),{topic:c}=e;if(!c)return;if(l[0]!==c){let e={type:"repository",...c};t=(0,td.a_)(e,!1),n=(0,m.z$)(e),l[0]=c,l[1]=t,l[2]=n}else t=l[1],n=l[2];let d=n;return l[3]!==t?(r=t&&(0,a.jsx)(t,{className:"mr-1",size:"small"}),l[3]=t,l[4]=r):r=l[4],l[5]!==d?(o=(0,a.jsx)("span",{className:"flex-1",children:d}),l[5]=d,l[6]=o):o=l[6],l[7]!==r||l[8]!==o?(s=(0,a.jsxs)(a.Fragment,{children:[r,o]}),l[7]=r,l[8]=o,l[9]=s):s=l[9],s}try{tm.displayName||(tm.displayName="TopicLabel")}catch{}try{(r=Icon).displayName||(r.displayName="Icon")}catch{}function th(e){return"pull-request"===e.type}var tp=n(3032);let tu={Initial:"initial",Complete:"complete"};function tf(){let e,t,n,r,o,s,l,h,p,u,f,x,g,b,w,j,v,C,_=(0,i.c)(73),O=(0,c.Pk)(),{entryPointId:I,chatIsOpen:D,currentRepository:L}=O,R=(0,d.b)();_[0]!==O?(e=(0,eO.W)(O),_[0]=O,_[1]=e):e=_[1];let k=e,{reloadQuota:A}=(0,e7.xR)(),P=(0,ev.Z)(),[T,E]=(0,N.useState)(tu.Initial),V=(0,N.useRef)(null),[B,F]=(0,N.useState)(""),$=function(){let e,t=(0,i.c)(5),{context:n,currentRepository:r}=(0,c.Pk)();e:{let o;if(Array.isArray(n)){let r;t[0]!==n?(r=n.find(th),t[0]=n,t[1]=r):r=t[1];let o=r;if(o){e=o;break e}}if(r){let n;t[2]!==r?(n={type:"repository",...r},t[2]=r,t[3]=n):n=t[3],e=n;break e}t[4]===Symbol.for("react.memo_cache_sentinel")?(o={type:"global"},t[4]=o):o=t[4],e=o}return e}(),z=function(e,t,n){let r=(0,N.useMemo)(()=>void 0===e?[]:(tp.L[e]||[]).filter(e=>void 0===t||!("persona"in e)||void 0===e.persona||e.persona===t),[e,t]);return(0,N.useMemo)(()=>{let e=r.filter(e=>void 0===n||e.name.toLowerCase().startsWith(n.toLowerCase()));return 0===e.length&&n&&e.push({type:"custom",context:"global",iconName:"PaperAirplaneIcon",name:n,prompt:n}),e},[r,n])}($?.type,$&&"persona"in $?$.persona:void 0,B),{selectedIndex:W,selectPrevious:H,selectNext:M}=function(e){let t,n,r,o,a,s=(0,i.c)(11),[l,c]=(0,N.useState)(0);s[0]!==e?(t=()=>{c(t=>Math.min(t,e))},n=[e],s[0]=e,s[1]=t,s[2]=n):(t=s[1],n=s[2]),(0,N.useEffect)(t,n),s[3]!==e?(r=()=>{c(t=>void 0===t?e:t>0?t-1:e)},s[3]=e,s[4]=r):r=s[4];let d=r;s[5]!==e?(o=()=>{c(t=>void 0===t?0:t<e?t+1:0)},s[5]=e,s[6]=o):o=s[6];let m=o;return s[7]!==m||s[8]!==d||s[9]!==l?(a={selectedIndex:l,selectPrevious:d,selectNext:m},s[7]=m,s[8]=d,s[9]=l,s[10]=a):a=s[10],a}(z.length-1);_[2]!==O.messages?(n=O.messages.findLast(tg),_[2]=O.messages,_[3]=n):n=_[3],t=n,_[4]!==I||_[5]!==R?(r=e=>{if(E(tu.Initial),F(""),R.closeChat(),"escape"===e){let e=I??e_.fv,t=document.getElementById(e),n=window.scrollX,r=window.scrollY;setTimeout(()=>{t?.focus(),window.scrollTo(n,r)},0)}},_[4]=I,_[5]=R,_[6]=r):r=_[6];let U=r;_[7]===Symbol.for("react.memo_cache_sentinel")?(o=e=>{F(e.currentTarget.value),E(tu.Initial)},_[7]=o):o=_[7];let G=o;_[8]!==R||_[9]!==A||_[10]!==O.context||_[11]!==O.currentReferences||_[12]!==O.currentRepository||_[13]!==O.customInstructions||_[14]!==k?(s=async e=>{F(e.name);let t=e.prompt;""!==t.trim()&&(A("command_message_send"),k&&await R.clearThread(k),E(tu.Complete),await R.sendChatMessage({content:t,thread:k,references:O.currentReferences,topic:O.currentRepository,context:O.context,customInstructions:O.customInstructions,intent:e.intent||ez.wh.conversation,modeOverride:"custom"===e.type?"assistive":"task-oriented-assistive"}),setTimeout(()=>{V?.current?.select?.(),window.scrollTo(scrollX,scrollY)},0))},_[8]=R,_[9]=A,_[10]=O.context,_[11]=O.currentReferences,_[12]=O.currentRepository,_[13]=O.customInstructions,_[14]=k,_[15]=s):s=_[15];let X=s;_[16]!==z||_[17]!==X||_[18]!==W?(l=async()=>{let e=z[W];e&&await X(e)},_[16]=z,_[17]=X,_[18]=W,_[19]=l):l=_[19];let Q=l;_[20]!==R?(h=()=>R.stopStreaming(),_[20]=R,_[21]=h):h=_[21];let J=h;_[22]!==L||_[23]!==P||_[24]!==k?(p=()=>{k?P(`${m.Jz}/c/${k.id}`):L?P(`${m.Jz}/r/${L.ownerLogin}/${L.name}`):P(m.Jz)},_[22]=L,_[23]=P,_[24]=k,_[25]=p):p=_[25];let q=p;_[26]!==z||_[27]!==$?.type||_[28]!==X||_[29]!==B||_[30]!==W||_[31]!==T?(u=()=>{if(T!==tu.Initial)return;let e=(0,tn.Z)($?.type?.replaceAll("-"," ")??"Select an action");return B&&(e="Results found"),z.every(tx)&&(e="No results found"),(0,a.jsx)(tl,{headingText:e,commands:z.map((e,t)=>({...e,selected:t===W})),onSelect:async e=>await X(e)})},_[26]=z,_[27]=$?.type,_[28]=X,_[29]=B,_[30]=W,_[31]=T,_[32]=u):u=_[32];let K=u;_[33]!==$||_[34]!==J||_[35]!==Q||_[36]!==q||_[37]!==B||_[38]!==M||_[39]!==H||_[40]!==O.isWaitingOnCopilot?(f=()=>{let e=O.isWaitingOnCopilot;return(0,a.jsx)("div",{className:"d-flex flex-column",children:(0,a.jsx)(ej.tL,{commands:{"copilot-chat:task-oriented-select-previous":H,"copilot-chat:task-oriented-select-next":M,"copilot-chat:send-message":()=>void Q(),"github:cancel":()=>void J(),"copilot-chat:continue-in-immersive":q},children:(0,a.jsx)(ej.tL.LimitKeybindingScope,{commandIds:["copilot-chat:send-message","github:cancel"],children:(0,a.jsx)(eQ.A,{ref:V,size:"large",leadingVisual:(0,a.jsx)(tc,{context:$}),trailingVisual:(0,a.jsxs)("div",{className:"d-flex flex-row",children:[e&&(0,a.jsx)(ej.N5,{variant:"invisible",icon:y.SquareFillIcon,className:"fgColor-danger",commandId:"github:cancel"}),(0,a.jsx)("div",{className:ts.copilotAvatar,children:(0,a.jsx)(e8.N,{animationType:e?e8.L.Thinking:e8.L.Idle,loopAnimation:!0})})]}),value:B,onChange:G,disabled:e,placeholder:"Search for actions"})})})})},_[33]=$,_[34]=J,_[35]=Q,_[36]=q,_[37]=B,_[38]=M,_[39]=H,_[40]=O.isWaitingOnCopilot,_[41]=f):f=_[41];let Y=f;_[42]!==t||_[43]!==O.isWaitingOnCopilot||_[44]!==O.messagesLoading.state||_[45]!==O.streamingMessage?(x=()=>{let e="loading"===O.messagesLoading.state,n="loaded"===O.messagesLoading.state,r="error"===O.messagesLoading.state;return(0,a.jsx)(ta.$,{children:(0,a.jsxs)("div",{className:(0,eg.$)(ts.chatMessageWrapper,ts.chatDisplayContainer),children:[e&&(0,a.jsx)(a.Fragment,{children:"Loading..."}),r&&(0,a.jsx)(a.Fragment,{children:"Error..."}),O.isWaitingOnCopilot&&(O.streamingMessage?(0,a.jsx)(tr.c,{message:O.streamingMessage,isStreaming:!0,inputRef:V,excludeFeedback:!0},O.streamingMessage.id):(0,a.jsx)(te.r,{lines:3})),n&&!e&&t&&(0,a.jsx)(tr.c,{message:t,isStreaming:t.id===O.streamingMessage?.id,inputRef:V,excludeFeedback:!0},t.id)]})})},_[42]=t,_[43]=O.isWaitingOnCopilot,_[44]=O.messagesLoading.state,_[45]=O.streamingMessage,_[46]=x):x=_[46];let Z=x;_[47]!==K||_[48]!==Z||_[49]!==T?(g=()=>T===tu.Initial?K():T===tu.Complete?Z():void 0,_[47]=K,_[48]=Z,_[49]=T,_[50]=g):g=_[50];let ee=g;_[51]!==t||_[52]!==U||_[53]!==Q||_[54]!==q||_[55]!==T?(b=()=>T===tu.Initial?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:"Select an action"}),(0,a.jsxs)("div",{className:"d-flex flex-row",children:[(0,a.jsx)(ef.Q,{className:"fgColor-muted",variant:"invisible",onClick:()=>U("close-button"),trailingVisual:(0,a.jsx)(tt.U,{keys:"Esc"}),children:"Close"}),(0,a.jsx)(ef.Q,{className:"fgColor-muted",variant:"invisible",onClick:Q,trailingVisual:(0,a.jsx)(ej.hh,{commandId:"copilot-chat:send-message"}),children:"Confirm"})]})]}):T===tu.Complete?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(to.$,{message:t,children:(0,a.jsx)(ti.G,{iconSize:"small"})}),(0,a.jsx)(e9.T,{textToCopy:t.content??"",ariaLabel:"Copy to clipboard"})]})}),(0,a.jsxs)("div",{className:"d-flex flex-row",children:[(0,a.jsx)(ef.Q,{className:"fgColor-muted",variant:"invisible",onClick:()=>U("close-button"),trailingVisual:(0,a.jsx)(tt.U,{keys:"Esc"}),children:"Close"}),(0,a.jsx)(ef.Q,{className:"fgColor-muted",variant:"invisible",onClick:q,trailingVisual:(0,a.jsx)(ej.hh,{commandId:"copilot-chat:continue-in-immersive"}),children:"Continue in Chat"})]})]}):void 0,_[51]=t,_[52]=U,_[53]=Q,_[54]=q,_[55]=T,_[56]=b):b=_[56];let et=b;if(D)return _[57]!==U||_[58]!==q||_[59]!==O.currentRepository||_[60]!==O.isWaitingOnCopilot?(w=()=>(0,a.jsxs)(eq.l.Header,{className:"d-flex flex-row flex-justify-between flex-items-center px-4 pt-2 mr-n3 box-shadow-none",children:[(0,a.jsx)("div",{className:"fgColor-muted",children:(0,a.jsx)(tm,{topic:O.currentRepository})}),(0,a.jsx)("div",{"data-testid":"copilot-assistive-command-window"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(S.K,{size:"small",variant:"invisible",icon:y.ScreenFullIcon,"aria-label":"Take conversation to immersive",disabled:O.isWaitingOnCopilot,onClick:q}),(0,a.jsx)(eq.l.CloseButton,{onClose:()=>U("close-button")})]})]}),_[57]=U,_[58]=q,_[59]=O.currentRepository,_[60]=O.isWaitingOnCopilot,_[61]=w):w=_[61],_[62]!==ee||_[63]!==Y?(j=()=>(0,a.jsxs)(eq.l.Body,{className:"py-1",children:[Y(),ee()]}),_[62]=ee,_[63]=Y,_[64]=j):j=_[64],_[65]!==et||_[66]!==O.isWaitingOnCopilot?(v=()=>{if(!O.isWaitingOnCopilot)return(0,a.jsx)(eq.l.Footer,{className:"d-flex flex-row flex-justify-between flex-items-center px-3 py-2 fgColor-muted",children:et()})},_[65]=et,_[66]=O.isWaitingOnCopilot,_[67]=v):v=_[67],_[68]!==U||_[69]!==w||_[70]!==j||_[71]!==v?(C=(0,a.jsx)(eq.l,{className:ts.dialog,initialFocusRef:V,onClose:U,renderHeader:w,renderBody:j,renderFooter:v}),_[68]=U,_[69]=w,_[70]=j,_[71]=v,_[72]=C):C=_[72],C}function tx(e){return"custom"===e.type}function tg(e){return"assistant"===e.role}try{tf.displayName||(tf.displayName="CommandWindow")}catch{}var tb=n(63867),ty=n(6869);let tw={loadingStateContainer:"ThreadListView-module__loadingStateContainer--lbhF8",ActionList:"ThreadListView-module__ActionList--Hd3wG",emptyStateContainer:"ThreadListView-module__emptyStateContainer--dmp0k",errorStateContainer:"ThreadListView-module__errorStateContainer--no4e4",deleteAllButton:"ThreadListView-module__deleteAllButton--LVaja"};function tj(){let e,t,n,r=(0,i.c)(9),o=(0,c.Pk)(),s=(0,d.b)();r[0]!==s||r[1]!==o.threads?(t=s.sortAndFilterThreads(o.threads,tv),r[0]=s,r[1]=o.threads,r[2]=t):t=r[2],e=t;let[l,m]=(0,N.useState)(!1),h=(0,N.useRef)(null),p=eW.W.deleteAllConversations;if("loading"===o.threadsLoading.state&&e.length<2){let e;return r[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsxs)("div",{className:tw.loadingStateContainer,children:[(0,a.jsx)(tb.A,{}),"Loading threads\u2026"]}),r[3]=e):e=r[3],e}return r[4]!==s||r[5]!==l||r[6]!==o.threadsLoading||r[7]!==e?(n=(0,a.jsx)(a.Fragment,{children:"error"===o.threadsLoading.state?(0,a.jsx)(tC,{threadsLoading:o.threadsLoading}):(0,a.jsxs)(a.Fragment,{children:[e.length>0&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(e$.l,{className:tw.ActionList,children:(0,a.jsxs)(e$.l.Group,{children:[(0,a.jsx)(e$.l.GroupHeading,{as:"h3",children:"All conversations"}),(0,a.jsx)(t_,{threads:e,manager:s}),e.length>1&&p&&(0,a.jsx)(tS,{threads:e,manager:s,shouldDeleteAllThreads:l,setShouldDeleteAllThreads:m,returnFocusRef:h})]})})}),0===e.length&&(0,a.jsxs)("div",{className:tw.emptyStateContainer,children:[(0,a.jsx)("p",{className:"mb-3",children:"There are no conversations at the moment."}),(0,a.jsx)(ef.Q,{onClick:()=>s.selectThread(null),block:!0,children:"Start a new conversation"})]})]})}),r[4]=s,r[5]=l,r[6]=o.threadsLoading,r[7]=e,r[8]=n):n=r[8],n}function tv(e){return void 0===e.customCopilotID}let tC=e=>{let t,n,r=(0,i.c)(3),{threadsLoading:o}=e;r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(V.A,{icon:y.AlertIcon}),r[0]=t):t=r[0];let s="error"===o.state?o.error:"Something went wrong. Please try again later.";return r[1]!==s?(n=(0,a.jsx)("div",{className:tw.errorStateContainer,children:(0,a.jsxs)(ty.A,{variant:"warning",children:[t,s]})}),r[1]=s,r[2]=n):n=r[2],n},t_=e=>{let t,n,r=(0,i.c)(7),{threads:o,manager:s}=e;if(r[0]!==s||r[1]!==o){let e;r[3]!==s?(e=e=>(0,a.jsxs)(e$.l.Item,{onSelect:()=>s.selectThread(e),className:"mr-0 pr-2",children:[(0,a.jsx)(e$.l.LeadingVisual,{children:(0,a.jsx)(y.CommentIcon,{})}),(0,m.CB)(e),(0,a.jsx)(e$.l.Description,{variant:"inline",className:"flex-shrink-0",children:(0,a.jsx)(v.A,{date:new Date(Date.parse(e.updatedAt)),format:"relative"})}),(0,a.jsx)(e$.l.TrailingAction,{icon:y.TrashIcon,label:`Delete conversation: "${(0,m.CB)(e)}"`,onClick:async()=>s.deleteThreadKeepSelection(e)})]},e.id),r[3]=s,r[4]=e):e=r[4],t=o.map(e),r[0]=s,r[1]=o,r[2]=t}else t=r[2];return r[5]!==t?(n=(0,a.jsx)(a.Fragment,{children:t}),r[5]=t,r[6]=n):n=r[6],n},tS=e=>{let t,n,r,o,s=(0,i.c)(14),{threads:l,manager:c,shouldDeleteAllThreads:d,setShouldDeleteAllThreads:m,returnFocusRef:h}=e;return s[0]!==m?(t=()=>m(!0),s[0]=m,s[1]=t):t=s[1],s[2]!==h||s[3]!==t?(n=(0,a.jsx)(ef.Q,{"data-testid":"delete-all-threads-button",ref:h,onClick:t,className:tw.deleteAllButton,children:"Delete all conversations"}),s[2]=h,s[3]=t,s[4]=n):n=s[4],s[5]!==c||s[6]!==h||s[7]!==m||s[8]!==d||s[9]!==l?(r=!0===d&&(0,a.jsx)("div",{"data-testid":"delete-all-threads-dialog",children:(0,a.jsxs)(eq.l,{title:"Delete all conversations",width:"small",onClose:()=>m(!1),returnFocusRef:h,footerButtons:[{buttonType:"default",content:"Cancel",onClick:()=>m(!1)},{buttonType:"danger",content:"Delete",onClick:async()=>{await c.deleteAllThreadKeepSelection(l),m(!1)},autoFocus:!0}],children:["You are trying to delete ",l.length," conversations. Are you sure? This can\u2019t be undone."]})}),s[5]=c,s[6]=h,s[7]=m,s[8]=d,s[9]=l,s[10]=r):r=s[10],s[11]!==n||s[12]!==r?(o=(0,a.jsxs)(a.Fragment,{children:[n,r]}),s[11]=n,s[12]=r,s[13]=o):o=s[13],o};try{tj.displayName||(tj.displayName="ThreadListView")}catch{}try{tC.displayName||(tC.displayName="ErrorView")}catch{}try{t_.displayName||(t_.displayName="ListView")}catch{}try{tS.displayName||(tS.displayName="DeleteAll")}catch{}let tN={CopilotChatContainer:"CopilotChat-module__CopilotChatContainer--CwBNd",IconButton:"CopilotChat-module__IconButton--xC79R",Popover:"CopilotChat-module__Popover--WnmyT",Popover_Content:"CopilotChat-module__Popover_Content--dXDCu",chatContentScrollContainer:"CopilotChat-module__chatContentScrollContainer--_YtWK",chatViewContainer:"CopilotChat-module__chatViewContainer--DmLID"};var tO=n(29943),tI=n(67522);let tD=(0,eh.E7)();function tL(e){let t,n=(0,i.c)(2);return n[0]!==e?(t=(0,a.jsx)(eb.RelayEnvironmentProvider,{environment:tD,children:(0,a.jsx)(tR,{...e})}),n[0]=e,n[1]=t):t=n[1],t}function tR(e){let t,n,r,o,s,d=(0,i.c)(9),m=(0,N.useRef)(null),h=(0,N.useRef)(null),p=eN.J.selectedThreadID;d[0]===Symbol.for("react.memo_cache_sentinel")?(t=eN.J.getCurrentReferences(p)||[],d[0]=t):t=d[0];let u=t,f=e.renderPopover||!1;return d[1]!==e.reactPartialAnchor||d[2]!==f?(n=(0,a.jsx)(tA,{renderPopover:f,ref:m,reactPartialAnchor:e.reactPartialAnchor,inputRef:h}),d[1]=e.reactPartialAnchor,d[2]=f,d[3]=n):n=d[3],d[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)(ek.cB,{}),o=(0,a.jsx)(tV,{inputRef:h}),d[4]=r,d[5]=o):(r=d[4],o=d[5]),d[6]!==e||d[7]!==n?(s=(0,a.jsx)(l.LB,{children:(0,a.jsxs)(c.Mj,{topic:e.currentTopic,workerPath:e.findFileWorkerPath,threadId:p,refs:u,mode:"assistive",ssoOrganizations:e.ssoOrganizations,chatIsOpen:!1,chatIsVisible:e.chatIsVisible,chatVisibleSettingPath:e.chatVisibleSettingPath,realIp:e.realIp,copilotChatPayload:e,children:[n,r,o]})}),d[6]=e,d[7]=n,d[8]=s):s=d[8],s}let tk=({notice:e})=>`/settings/dismiss-notice/${e}`,tA=N.forwardRef((e,t)=>{let n,r,o,s,h,p,u,f,x,g,b,w,j,v,C,_,O,I,D=(0,i.c)(62),L=(0,d.b)(),R=(0,c.Pk)();D[0]!==R?(n=(0,eO.W)(R),D[0]=R,D[1]=n):n=D[1];let k=n,{currentTopic:A,currentView:P}=R,{screenSize:T}=(0,l.lm)(),{licenseType:E}=(0,e7.xR)(),V=(0,tI.GF)(R.availableModels),B=(0,N.useRef)(!0);D[2]!==A||D[3]!==V||D[4]!==L||D[5]!==k||D[6]!==R.chatIsOpen?(r=()=>(0,tO.HS)(e=>void L.handleOpenPanelEvent(k,e,R.chatIsOpen,A,V)),o=[A,k,L,R.chatIsOpen,V],D[2]=A,D[3]=V,D[4]=L,D[5]=k,D[6]=R.chatIsOpen,D[7]=r,D[8]=o):(r=D[7],o=D[8]),(0,N.useEffect)(r,o),D[9]!==L?(s=()=>(0,tO.f7)(e=>{L.handleAddReferenceEvent(e)}),D[9]=L,D[10]=s):s=D[10],D[11]!==L||D[12]!==k||D[13]!==R.currentReferences?(h=[k,L,R.currentReferences],D[11]=L,D[12]=k,D[13]=R.currentReferences,D[14]=h):h=D[14],(0,N.useEffect)(s,h),D[15]!==L?(p=()=>(0,tO.Tv)(e=>{L.handleSymbolChangedEvent(e)}),D[15]=L,D[16]=p):p=D[16],(0,N.useEffect)(p),D[17]!==V||D[18]!==L?(u=()=>(0,tO.fD)(e=>{L.handleSearchCopilotEvent(e,V)}),f=[L,V],D[17]=V,D[18]=L,D[19]=u,D[20]=f):(u=D[19],f=D[20]),(0,N.useEffect)(u,f),D[21]!==P||D[22]!==L||D[23]!==R.chatVisibleSettingPath||D[24]!==R.selectedThreadID||D[25]!==R.threads?(x=()=>{let e=new URL(window.location.href,window.location.origin),t=e.searchParams,n=R.selectedThreadID;if("1"===t.get("copilot")&&n){let t=R.threads.get(n)??null;L.openChat(t,P,"immersive",R.chatVisibleSettingPath),e.searchParams.delete("copilot"),(0,ec.kd)(e.toString())}},g=[L,R.selectedThreadID,R.threads,P,R.chatVisibleSettingPath],D[21]=P,D[22]=L,D[23]=R.chatVisibleSettingPath,D[24]=R.selectedThreadID,D[25]=R.threads,D[26]=x,D[27]=g):(x=D[26],g=D[27]),(0,N.useEffect)(x,g),D[28]!==L||D[29]!==T||D[30]!==k||D[31]!==R.chatIsVisible||D[32]!==R.chatVisibleSettingPath||D[33]!==R.currentView?(b=()=>{B.current&&(B.current=!1,R.chatIsVisible&&!eN.J.getCollapsedState()&&T>l.Gy.large&&L.openChat(k,R.currentView,"page load",R.chatVisibleSettingPath))},w=[L,T,k,R.chatIsVisible,R.chatVisibleSettingPath,R.currentView],D[28]=L,D[29]=T,D[30]=k,D[31]=R.chatIsVisible,D[32]=R.chatVisibleSettingPath,D[33]=R.currentView,D[34]=b,D[35]=w):(b=D[34],w=D[35]),(0,N.useEffect)(b,w),D[36]!==A||D[37]!==P||D[38]!==E||D[39]!==L||D[40]!==e.inputRef||D[41]!==k||D[42]!==R.chatIsOpen||D[43]!==R.chatVisibleSettingPath?(j=async()=>{if(R.chatIsOpen)e.inputRef.current&&e.inputRef.current.focus();else{if(E===ez.mF.Unlicensed){if(R.chatVisibleSettingPath){let e=new FormData;e.set("copilot_chat_visible","true"),await (0,ep.DI)(R.chatVisibleSettingPath,{method:"PUT",body:e}),eN.J.setCollapsedState(!1)}window.location.replace(`${window.location.origin}/github-copilot/signup?return_to=${window.location.pathname}`);return}L.openChat(k,P,"header",R.chatVisibleSettingPath,(0,m.Z6)(A)?(0,m.qS)(A):void 0)}},D[36]=A,D[37]=P,D[38]=E,D[39]=L,D[40]=e.inputRef,D[41]=k,D[42]=R.chatIsOpen,D[43]=R.chatVisibleSettingPath,D[44]=j):j=D[44];let F=j;if(e.reactPartialAnchor){let t,n,r;return D[45]!==e.reactPartialAnchor?(t=(0,a.jsx)(tP,{reactPartialAnchor:e.reactPartialAnchor}),D[45]=e.reactPartialAnchor,D[46]=t):t=D[46],D[47]!==e.renderPopover?(n=e.renderPopover?(0,a.jsx)(tE,{renderPopover:!0}):(0,a.jsx)(a.Fragment,{}),D[47]=e.renderPopover,D[48]=n):n=D[48],D[49]!==t||D[50]!==n?(r=(0,a.jsxs)("div",{className:tN.CopilotChatContainer,children:[t,n]}),D[49]=t,D[50]=n,D[51]=r):r=D[51],r}return D[52]===Symbol.for("react.memo_cache_sentinel")?(v=(0,eg.$)("AppHeader-CopilotChatButton",tN.CopilotChatContainer),D[52]=v):v=D[52],D[53]===Symbol.for("react.memo_cache_sentinel")?(C=(0,eg.$)("AppHeader-button",tN.IconButton),D[53]=C):C=D[53],D[54]!==F||D[55]!==t?(_=(0,a.jsx)(ex.A,{"aria-label":"Chat with Copilot",direction:"s",children:(0,a.jsx)("div",{children:(0,a.jsx)(S.K,{unsafeDisableTooltip:!0,ref:t,id:e_.fv,icon:y.CopilotIcon,"aria-label":"Chat with Copilot","aria-controls":e_.wJ,onClick:F,className:C,"data-testid":"copilot-chat-button","data-hotkey":"Shift+C","aria-expanded":!1})})}),D[54]=F,D[55]=t,D[56]=_):_=D[56],D[57]!==e.renderPopover?(O=(0,a.jsx)(tE,{renderPopover:e.renderPopover}),D[57]=e.renderPopover,D[58]=O):O=D[58],D[59]!==_||D[60]!==O?(I=(0,a.jsxs)("div",{className:v,children:[_,O]}),D[59]=_,D[60]=O,D[61]=I):I=D[61],I});function tP(e){let t,n=(0,i.c)(1),{reactPartialAnchor:r}=e;return(0,em.QJ)(r,tT),n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(a.Fragment,{}),n[0]=t):t=n[0],t}function tT(){(0,ed.BI)("dotcom_chat.activate",{target:"GLOBAL_COPILOT_MENU_HEADER_TO_IMMERSIVE",mode:"global_nav"})}function tE(e){let t,n,r,o=(0,i.c)(4),{renderPopover:s}=e,[l,c]=(0,N.useState)(s);o[0]===Symbol.for("react.memo_cache_sentinel")?(t=async()=>{c(!1),await (0,ep.DI)(tk({notice:"copilot_chat_new_user_popover"}),{method:"POST"})},o[0]=t):t=o[0];let d=t;return o[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsxs)(eu.A.Content,{"data-testid":"copilot-chat-cta-popover",className:tN.Popover_Content,children:[(0,a.jsxs)("p",{children:["You now have access to"," ",(0,a.jsx)("a",{href:"https://docs.github.com/enterprise-cloud@latest/copilot/github-copilot-enterprise/overview/about-github-copilot-enterprise",target:"_blank",rel:"noopener noreferrer",children:"Copilot Enterprise"}),". ","Use the Copilot icon to get started."]}),(0,a.jsx)(ef.Q,{"data-testid":"dismiss-copilot-chat-cta-popover",onClick:d,children:"Got it!"})]}),o[1]=n):n=o[1],o[2]!==l?(r=(0,a.jsx)(eu.A,{open:l,caret:"top-right",className:tN.Popover,children:n}),o[2]=l,o[3]=r):r=o[3],r}function tV(e){let t,n,r,o,s,l,m,h,p=(0,i.c)(30),{inputRef:u}=e,f=(0,c.Pk)(),x=(0,d.b)(),g=(0,N.useRef)(null),[b,y]=(0,N.useState)(ez.hs.None),[w,j]=(0,N.useState)(!1),v=(0,N.useRef)(f.messages.length),C=(0,N.useRef)(f.messagesLoading.state),{panelWidth:_,panelHeight:S,startResize:O,onResizerKeyDown:I}=(0,eS.Tz)();if(p[0]!==f.chatIsOpen||p[1]!==f.messages.length||p[2]!==f.messagesLoading.state?(t=()=>{f.messages.length>v.current&&!f.chatIsOpen&&"loaded"===C.current&&j(!0),v.current=f.messages.length,C.current=f.messagesLoading.state},n=[f.chatIsOpen,f.messages.length,f.messagesLoading.state],p[0]=f.chatIsOpen,p[1]=f.messages.length,p[2]=f.messagesLoading.state,p[3]=t,p[4]=n):(t=p[3],n=p[4]),(0,N.useEffect)(t,n),p[5]!==w||p[6]!==f.chatIsOpen?(r=()=>{f.chatIsOpen&&w&&j(!1)},o=[w,f.chatIsOpen],p[5]=w,p[6]=f.chatIsOpen,p[7]=r,p[8]=o):(r=p[7],o=p[8]),(0,N.useEffect)(r,o),"copilot-task-oriented-assistive"===f.entryPointId&&eW.W.taskOrientedAssistive){let e;return p[9]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(tf,{}),p[9]=e):e=p[9],e}p[10]!==x||p[11]!==f.entryPointId?(s=e=>{y(ez.hs.None),x.closeChat();let t=f.entryPointId??e_.fv;if(e&&t){let e=document.getElementById(t),n=window.scrollX,r=window.scrollY;setTimeout(()=>{e?.focus(),window.scrollTo(n,r)},0)}},p[10]=x,p[11]=f.entryPointId,p[12]=s):s=p[12];let D=f.messages.length<=1&&(!!f.streamingMessage||f.isWaitingOnCopilot);return p[13]!==b||p[14]!==D?(l=(0,a.jsx)(e3,{staffDialogRef:g,showStaffDialog:b,setShowStaffDialog:y,isResponding:D}),p[13]=b,p[14]=D,p[15]=l):l=p[15],p[16]!==u||p[17]!==f.chatIsOpen||p[18]!==f.currentView||p[19]!==f.selectedThreadID?(m=f.chatIsOpen&&(0,a.jsx)("div",{className:tN.chatContentScrollContainer,children:(0,a.jsx)("div",{className:tN.chatViewContainer,children:"thread"===f.currentView?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ey.r,{inputRef:u},f.selectedThreadID),(0,a.jsx)(el,{})]}):(0,a.jsx)(tj,{})})}),p[16]=u,p[17]=f.chatIsOpen,p[18]=f.currentView,p[19]=f.selectedThreadID,p[20]=m):m=p[20],p[21]!==u||p[22]!==I||p[23]!==S||p[24]!==_||p[25]!==O||p[26]!==s||p[27]!==l||p[28]!==m?(h=(0,a.jsxs)(eA,{staffDialogRef:g,handleClose:s,panelWidth:_,panelHeight:S,startResize:O,onResizerKeyDown:I,initialFocusRef:u,children:[l,m]}),p[21]=u,p[22]=I,p[23]=S,p[24]=_,p[25]=O,p[26]=s,p[27]=l,p[28]=m,p[29]=h):h=p[29],h}tA.displayName="CopilotHeaderButton",tV.displayName="ChatPanelWithHeader";try{tL.displayName||(tL.displayName="CopilotChat")}catch{}try{tR.displayName||(tR.displayName="CopilotChatNoRelay")}catch{}try{tP.displayName||(tP.displayName="ExternalAnchorListener")}catch{}try{tE.displayName||(tE.displayName="WelcomePopover")}catch{}(0,o.k)("copilot-chat",{Component:tL})},29943:(e,t,n)=>{function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{HS:()=>i,Oc:()=>a,Tv:()=>c,Xr:()=>SymbolChangedEvent,f7:()=>s,fD:()=>l,qR:()=>o});let OpenCopilotChatEvent=class OpenCopilotChatEvent extends Event{constructor(e){super("open-copilot-chat",{bubbles:!1,cancelable:!0}),r(this,"payload",void 0),this.payload=e}};Event;let AddCopilotChatReferenceEvent=class AddCopilotChatReferenceEvent extends Event{constructor(e,t=!1,n){super("add-copilot-chat-reference",{bubbles:!1,cancelable:!0}),r(this,"reference",void 0),r(this,"openPanel",void 0),r(this,"id",void 0),this.reference=e,this.openPanel=t,this.id=n}};let SymbolChangedEvent=class SymbolChangedEvent extends Event{constructor(e){super("symbol-changed",{bubbles:!1,cancelable:!0}),r(this,"context",void 0),this.context=e}};function o(e){window.dispatchEvent(new OpenCopilotChatEvent(e))}function a(e,t=!1,n){window.dispatchEvent(new AddCopilotChatReferenceEvent(e,t,n))}function i(e){return window.addEventListener("open-copilot-chat",e),()=>{window.removeEventListener("open-copilot-chat",e)}}function s(e){return window.addEventListener("add-copilot-chat-reference",e),()=>{window.removeEventListener("add-copilot-chat-reference",e)}}function l(e){return window.addEventListener("search-copilot-chat",e),()=>{window.removeEventListener("search-copilot-chat",e)}}function c(e){return window.addEventListener("symbol-changed",e),()=>{window.removeEventListener("symbol-changed",e)}}},38007:(e,t,n)=>{let r;n.d(t,{BI:()=>u,Ti:()=>f,lA:()=>h,sX:()=>p});var o=n(70837),a=n(18679),i=n(85351),s=n(7479);let{getItem:l}=(0,i.A)("localStorage"),c="dimension_",d=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,o.O)("octolytics");delete e.baseContext,r=new a.s(e)}catch{}function m(e){let t=(0,o.O)("octolytics").baseContext||{};if(t)for(let[e,n]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(c)&&(t[e.replace(c,"")]=n,delete t[e]);let n=document.querySelector("meta[name=visitor-payload]");for(let[e,r]of(n&&Object.assign(t,JSON.parse(atob(n.content))),new URLSearchParams(window.location.search)))d.includes(e.toLowerCase())&&(t[e]=r);return t.staff=(0,s.X)().toString(),Object.assign(t,e)}function h(e){r?.sendPageView(m(e))}function p(){return document.head?.querySelector('meta[name="current-catalog-service"]')?.content}function u(e,t={}){let n=p(),o=n?{service:n}:{};for(let[e,n]of Object.entries(t))null!=n&&(o[e]=`${n}`);r&&(m(o),r.sendEvent(e||"unknown",m(o)))}function f(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}},72841:(e,t,n)=>{n.d(t,{A:()=>r});let r=(e,t)=>{let n=new URL(e,window.location.origin),r=new URL(t,window.location.origin);return r.href.includes("#")&&n.host===r.host&&n.pathname===r.pathname&&n.search===r.search}},98075:(e,t,n)=>{n.d(t,{D7:()=>o,MQ:()=>r,gE:()=>a});let r=e=>{if(e){if(e.startsWith("refs/tags/"))return"tag";if(e.startsWith("refs/heads/"))return"branch"}},o=(e,t)=>"branch"===t?`refs/heads/${e}`:"tag"===t?`refs/tags/${e}`:e,a=e=>{if(!e)return;if(!r(e))return e;let[,,...t]=e.split("/");return t.join("/")}},98386:(e,t,n)=>{n.d(t,{G:()=>r});let r=e=>({})},80663:(e,t,n)=>{n.d(t,{I:()=>i});var r=n(96540),o=n(17515),a=n(60674);function i(e,t,n=[]){let s=(0,r.useCallback)(e,n),l=(0,a.BP)(),c=(0,r.useRef)(l===a.O8.ClientRender),[d,m]=(0,r.useState)(()=>l===a.O8.ClientRender?s():t),h=(0,r.useCallback)(()=>{m(s)},[s]);return(0,o.N)(()=>{c.current||m(s),c.current=!1},[s,...n]),[d,h]}},62626:(e,t,n)=>{n.d(t,{u:()=>i});var r=n(96235),o=n(60039),a=n(96540);function i(e,t,n,i){let[s,l]=(0,a.useState)({loading:!0}),c=t&&e&&n&&i?(0,r.IO9)({repo:{name:t,ownerLogin:e},commitish:n,action:"file-contributors",path:i}):null;return(0,a.useEffect)(()=>{if(!c)return;let e=!1;return(async()=>{l({loading:!0});let t=await (0,o.lS)(c);if(!e)try{t.ok?l({contributors:await t.json()}):l({error:!0})}catch{l({error:!0})}})(),function(){e=!0}},[c]),s}},44263:(e,t,n)=>{n.d(t,{d:()=>i});var r=n(90851),o=n(23125),a=n(96540);let i=(e,t,{leading:n=!1,maxWait:i,trailing:s=!0,onChangeBehavior:l="flush"}={})=>{let c=(0,r.M)(e),d=(0,a.useMemo)(()=>{let e=void 0===i?{leading:n,trailing:s}:{leading:n,trailing:s,maxWait:i};return(0,o.A)((...e)=>c.current(...e),t,e)},[c,t,n,i,s]);return(0,a.useEffect)(()=>()=>{d?.[l]()},[d,l]),d}},22279:(e,t,n)=>{n.d(t,{E:()=>h,q:()=>m});var r=n(5225),o=n(96235),a=n(21715),i=n(60039),s=n(96540);async function l(e){let t=await (0,i.lS)(e);return t.ok?await t.json():void 0}let c=new Map,d=(0,r.A)(l,{cache:c});function m(){c.clear()}function h(e,t,n,r){let[i,l]=(0,s.useState)(),[c,h]=(0,s.useState)(!1),[p,u]=(0,s.useState)(!0),f=t&&e&&n&&r?(0,o.IO9)({repo:{name:t,ownerLogin:e},commitish:n,action:"latest-commit",path:r}):null;return(0,s.useEffect)(()=>{let e=new AbortController;return document.addEventListener(a.z.START,m,{signal:e.signal}),()=>{e.abort()}},[]),(0,s.useEffect)(()=>{let e=!1;return(async()=>{if(!f)return;h(!1),u(!0),l(void 0);let t=await d(f);if(!e){try{t?l(t):h(!0)}catch{h(!0)}u(!1)}})(),function(){e=!0}},[f,n]),[i,p,c]}},26807:(e,t,n)=>{n.d(t,{Z:()=>c,o:()=>d});var r=n(96540),o=n(85788),a=n(72841),i=n(97396),s=n(32494),l=n(23818);let c=()=>{let{routes:e}=r.useContext(l.k),t=(0,o.Zp)();return r.useCallback((l,c={})=>{let d=(0,o.o1)(l).pathname;if(!(0,o.ue)(e,d)||c.reloadDocument){let e="string"==typeof l?l:(0,o.AO)(l);(async()=>{let{softNavigate:t}=await Promise.all([n.e("vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js"),n.e("ui_packages_soft-navigate_soft-navigate_ts")]).then(n.bind(n,59519));t(e)})()}else{(0,a.A)(location.href,l.toString())||(0,i.SC)("react");let{preventAutofocus:e,...n}=c;(0,r.startTransition)(()=>{t(l,e?{...n,state:{[s.V]:!0,...n.state}}:n)})}},[t,e])},d=()=>{let[e]=(0,o.ok)(),t=c(),{pathname:n}=(0,o.zy)(),a=r.useCallback((r,a={})=>{t({pathname:n,search:(0,o.PI)("function"==typeof r?r(e):r).toString()},a)},[e,t,n]);return[e,a]}},60039:(e,t,n)=>{n.d(t,{DI:()=>a,QJ:()=>s,Sr:()=>l,lS:()=>i});var r=n(26559),o=n(62053);async function a(e,t={}){var n=e;if(new URL(n,window.location.origin).origin!==window.location.origin)throw Error("Can not make cross-origin requests from verifiedFetch");let i=function(e){let t=new URL(e,window.location.href),n=new URL(window.location.href,window.location.origin),r=n.searchParams.get("_features");r&&!t.searchParams.has("_features")&&t.searchParams.set("_features",r);let o=n.searchParams.get("_tracing");return o&&!t.searchParams.has("_tracing")&&t.searchParams.set("_tracing",o),e.startsWith(window.location.origin)?t.href:`${t.pathname}${t.search}`}(e),s={...t.headers,"GitHub-Verified-Fetch":"true",...(0,r.kt)()},l=await fetch(i,{...t,headers:s}),c=l?.headers?.get("X-Github-Request-Id");return c&&(0,o.Ex)(c),l}function i(e,t){let n={...t?.headers??{},Accept:"application/json","Content-Type":"application/json"},r=t?.body?JSON.stringify(t.body):void 0;return a(e,{...t,body:r,headers:n})}function s(e,t={}){let n={...t.headers,"GitHub-Is-React":"true"};return a(e,{...t,headers:n})}function l(e,t){let n={...t?.headers??{},"GitHub-Is-React":"true"};return i(e,{...t,headers:n})}},33484:(e,t,n)=>{n.d(t,{l:()=>m});var r=n(74848),o=n(21728),a=n(13455),i=n(60039),s=n(96540),l=n(31971),c=n(69458);let d=[{name:"Hate it",value:1,icon:a.YS,color:"veryDissatisfied"},{name:"Not great",value:2,icon:a.Mm,color:"dissatisfied"},{name:"It\u2019s ok",value:3,icon:a.Cf,color:"satisfied"},{name:"Love it",value:4,icon:a.mN,color:"verySatisfied"}],m=(0,s.forwardRef)(function(e,t){let n,m,h,p,u=(0,o.c)(7),{mode:f,returnFocusRef:x}=e,g=(0,s.useRef)(null),b=(0,s.useRef)(null),y=(0,s.useRef)(void 0);u[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>({openDialog:e=>{y.current=e,l.W.copilotChatInterviewSurvey?g.current?.openDialog():b.current?.openDialog(e)}}),u[0]=n):n=u[0],(0,s.useImperativeHandle)(t,n),u[1]!==f?(m=async(e,t)=>{let n=[];if(null==e&&n.push("Please select a rating."),t.length>2e3&&n.push("Please keep your feedback within 2000 characters or less."),n.length>0)return n;let r={rating:e,content:t,hostname:window.location.hostname,path:window.location.pathname,mode:f};try{(await (0,i.lS)("/github-copilot/feedback",{method:"POST",body:r})).ok||n.push("An error occurred while submitting your feedback.")}catch{n.push("An error occurred while submitting your feedback.")}return n},u[1]=f,u[2]=m):m=u[2];let w=m;return u[3]===Symbol.for("react.memo_cache_sentinel")?(h=(0,r.jsx)(c.E,{ref:g,onClose:e=>{"no-thanks"===e&&b.current?.openDialog(y.current)}}),u[3]=h):h=u[3],u[4]!==w||u[5]!==x?(p=(0,r.jsxs)(r.Fragment,{children:[h,(0,r.jsx)(a.NE,{ref:b,options:d,onSubmit:w,returnFocusRef:x})]}),u[4]=w,u[5]=x,u[6]=p):p=u[6],p});m.displayName="ConversationFeedbackDialog"},75320:(e,t,n)=>{n.d(t,{Y:()=>O});var r,o=n(74848),a=n(21728),i=n(70170),s=n(38007),l=n(98386),c=n(42080),d=n(17515),m=n(60039),h=n(16255),p=n(73451),u=n(19647),f=n(55847),x=n(9852),g=n(96540),b=n(40961),y=n(34901),w=n(47397);let j={footerContainer:"PersonalInstructionsDialog-module__footerContainer--YsPvr"};var v=n(38621),C=n(15385);let _={Role:{tooltip:"Role, domain, style, and focus areas",body:`Your role:
- {role_type} expert in {domain}
- Focus on {key_skill_area}
`},Communication:{tooltip:"Language, tone and format",body:`Communication:
- Write in {tone/language}
- Reference {source_type} documentation
- Structure responses as {format}
`},"Code preferences":{tooltip:"Code style, patterns, and conventions",body:`Code guidelines:
- Use {language} conventions
- Follow {pattern/code_guidelines}
- Optimize for {goal}
`}},S=(0,g.forwardRef)(function(e,t){let n,r,i,s,l,c,d,m,h=(0,a.c)(19),{onSelect:p}=e,[u,f]=(0,g.useState)(!1);h[0]!==u?(n=()=>f(!u),h[0]=u,h[1]=n):n=h[1];let x=n;h[2]===Symbol.for("react.memo_cache_sentinel")?(r={marginBottom:"1px"},h[2]=r):r=h[2],h[3]!==p||h[4]!==u?(i=u&&Object.entries(_)?.map(e=>{let[t,n]=e;return(0,o.jsxs)(C.l.Item,{"aria-label":`${n.tooltip}`,className:"mx-0 border fgColor-muted d-inline-block width-auto",onSelect:()=>p(t,n.body),children:[(0,o.jsx)(v.PlusIcon,{}),t]},t)}),h[3]=p,h[4]=u,h[5]=i):i=h[5],h[6]!==i?(s=(0,o.jsx)(C.l,{className:"d-inline-flex flex-wrap gap-2 rounded-2",children:i}),h[6]=i,h[7]=s):s=h[7];let b=u?"Hide templates":"Show templates";return h[8]===Symbol.for("react.memo_cache_sentinel")?(l={border:"1px solid transparent"},h[8]=l):l=h[8],h[9]!==u?(c=u?(0,o.jsx)(v.XIcon,{}):(0,o.jsx)(v.LightBulbIcon,{}),h[9]=u,h[10]=c):c=h[10],h[11]!==b||h[12]!==c||h[13]!==x?(d=(0,o.jsx)(C.l,{className:"d-flex flex-column flex-justify-end",children:(0,o.jsx)(C.l.Item,{"aria-label":b,"data-testid":"toggle-templates",className:"fgColor-muted d-inline-block width-auto flex-justify-end mx-0",style:l,onSelect:x,children:c})}),h[11]=b,h[12]=c,h[13]=x,h[14]=d):d=h[14],h[15]!==t||h[16]!==s||h[17]!==d?(m=(0,o.jsxs)("div",{ref:t,className:"d-inline-flex flex-justify-between position-absolute bgColor-default right-0 left-0 bottom-0 ml-2 mr-3",style:r,children:[s,d]}),h[15]=t,h[16]=s,h[17]=d,h[18]=m):m=h[18],m});try{S.displayName||(S.displayName="PersonalInstructionsTemplates")}catch{}try{(r=PersonalInstructionsTemplatesWithRef).displayName||(r.displayName="PersonalInstructionsTemplatesWithRef")}catch{}let N=(e,t)=>{let n,r,o=(0,a.c)(4),s=void 0===t?500:t,[l,c]=(0,g.useState)(48);return o[0]!==e||o[1]!==s?(n=()=>{let t=(0,i.s)(()=>{e?.current&&c(e.current.clientHeight??48)},s),n=new ResizeObserver(t);return e?.current&&n.observe(e.current),()=>{t.cancel(),n?.disconnect?.()}},r=[e,s],o[0]=e,o[1]=s,o[2]=n,o[3]=r):(n=o[2],r=o[3]),(0,g.useEffect)(n,r),l},O=({onDismiss:e,returnFocusRef:t})=>{let n=(0,y.Pk)(),r=(0,w.b)(),[a,i]=(0,g.useState)(n.personalInstructions??""),[v,C]=(0,g.useState)(void 0),[_,O]=(0,g.useState)(!1),D=(0,g.useRef)(null),L=(0,g.useRef)(null),[R,k]=(0,g.useState)(""),A=N(L);(0,d.N)(()=>{D?.current&&(D.current.scrollTop=D.current.scrollHeight)},[a]);let P=(0,g.useCallback)(async()=>{if(!_){O(!0),R&&(0,s.BI)("copilot_personal_instruction_template_usage",{content:R});try{let t=await (0,m.lS)("/copilot/personal_instructions",{method:"POST",body:{prompt:a}});if(t.ok)(0,s.BI)("dotcom_chat.activate",{target:"PERSONAL_INSTRUCTIONS_SAVE",mode:"immersive"}),r.dispatch({type:"SET_PERSONAL_INSTRUCTIONS",personalInstructions:a}),(0,b.flushSync)(()=>e());else{let e=await t.json();C(String(e.errorMessage))}}catch{C("An error occurred while saving your personal instructions.")}finally{O(!1)}}},[_,a,r,e,R]),T=(e,t)=>{t&&(i(a?`${a}
${t}`:t),k(e),D?.current?.focus())},E=()=>{P()},V=(0,g.useCallback)(()=>{(0,s.BI)("dotcom_chat.dismiss",{target:"PERSONAL_INSTRUCTIONS_DISMISS",mode:"immersive"}),(0,b.flushSync)(()=>e())},[e]);return(0,o.jsx)(h.Z,{children:(0,o.jsx)(x.l,{onClose:V,title:"Personal instructions",subtitle:"Set up Copilot to align with your workflows and preferences. These instructions will only impact your personal conversation.",width:"large",returnFocusRef:t,renderBody:()=>(0,o.jsx)(x.l.Body,{children:(0,o.jsx)("form",{onSubmit:P,children:(0,o.jsxs)(p.A,{children:[(0,o.jsx)(p.A.Label,{visuallyHidden:!0,children:"Instructions"}),(0,o.jsx)("div",{className:"width-full position-relative",children:(0,o.jsxs)(c.tL,{commands:{"github:submit-form":E},children:[(0,o.jsx)(u.Ay,{ref:D,className:"width-full",style:{paddingBottom:`${A}px`},"aria-label":"Prompt",rows:7,name:"prompt",placeholder:"Your instructions",value:a,validationStatus:v||a.length>4e3?"error":void 0,...(0,l.G)("prompt-input"),onChange:e=>{i(e.target.value),C(void 0)}}),(0,o.jsx)(S,{ref:L,onSelect:T})]})}),(0,o.jsx)(I,{text:a,promptCharLimit:4e3}),v&&(0,o.jsx)(p.A.Validation,{variant:"error",children:(0,o.jsx)("span",{...(0,l.G)("error-message"),children:v})})]})})}),renderFooter:()=>(0,o.jsxs)("div",{className:j.footerContainer,children:[(0,o.jsx)(f.Q,{variant:"default",onClick:V,children:"Cancel"}),(0,o.jsx)(f.Q,{loading:_,loadingAnnouncement:"Saving personal instructions",variant:"primary",onClick:P,children:"Save"})]})})})};function I(e){let t,n,r,i,s=(0,a.c)(10),{text:c,promptCharLimit:d}=e;s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.G)("current-character-count"),s[0]=t):t=s[0],s[1]!==c.length?(n=(0,o.jsx)("span",{className:"text-tabular-nums",...t,children:c.length}),s[1]=c.length,s[2]=n):n=s[2],s[3]!==d||s[4]!==n?(r=(0,o.jsxs)(o.Fragment,{children:[n," ","/ ",d," characters"]}),s[3]=d,s[4]=n,s[5]=r):r=s[5];let m=r;return s[6]!==m||s[7]!==d||s[8]!==c.length?(i=(0,o.jsx)(o.Fragment,{children:c.length>d?(0,o.jsx)(p.A.Validation,{variant:"error",children:m}):(0,o.jsx)(p.A.Caption,{children:m})}),s[6]=m,s[7]=d,s[8]=c.length,s[9]=i):i=s[9],i}try{O.displayName||(O.displayName="PersonalInstructionsDialog")}catch{}try{I.displayName||(I.displayName="CharacterCount")}catch{}},45518:(e,t,n)=>{n.d(t,{X:()=>y});var r=n(74848),o=n(21728),a=n(38621),i=n(73451),s=n(19647),l=n(9591),c=n(46309),d=n(81679),m=n(87330),h=n(55847),p=n(16255),u=n(9852),f=n(96540),x=n(74244),g=n(47397);let b={Dialog:"PromptDialog-module__Dialog--s8Arq",systemInstructionsTextarea:"PromptDialog-module__systemInstructionsTextarea--ImhCS",temperatureFormControl:"PromptDialog-module__temperatureFormControl--WQLdS",toolsSectionHeader:"PromptDialog-module__toolsSectionHeader--RRrpT",deleteToolButton:"PromptDialog-module__deleteToolButton--weBVY"},y=e=>{let t,n,y,j,v,C,_,S,N,O,I,D,L,R,k,A,P,T,E,V,B,F,$,z=(0,o.c)(53),{onDismiss:W,promptDialogRef:H}=e,M=(0,g.b)(),U=x.J.settings,[G,X]=(0,f.useState)(U?.instructionPrompt||void 0);z[0]===Symbol.for("react.memo_cache_sentinel")?(t=U?.skillOverrides??[],z[0]=t):t=z[0];let[Q,J]=(0,f.useState)(t),[q,K]=(0,f.useState)(U?.temperature||.7),Y=(0,f.useRef)(void 0);z[1]!==M||z[2]!==W||z[3]!==G||z[4]!==q||z[5]!==Q?(n=()=>{let e=Q.filter(w);M.setCopilotSettings({instructionPrompt:G||"",skillOverrides:e,temperature:q}),W()},z[1]=M,z[2]=W,z[3]=G,z[4]=q,z[5]=Q,z[6]=n):n=z[6];let Z=n;z[7]!==M?(y=async()=>{if(Y.current)return void X(Y.current);let e=await M.getSystemPrompt();Y.current=e,X(e)},z[7]=M,z[8]=y):y=z[8];let ee=y;z[9]!==ee||z[10]!==G?(j=()=>{(async()=>{void 0===G&&await ee()})()},z[9]=ee,z[10]=G,z[11]=j):j=z[11],z[12]!==ee||z[13]!==M||z[14]!==G?(v=[ee,M,G],z[12]=ee,z[13]=M,z[14]=G,z[15]=v):v=z[15],(0,f.useEffect)(j,v),z[16]!==ee?(C=()=>{ee(),J([]),K(.7)},z[16]=ee,z[17]=C):C=z[17];let et=C;return z[18]===Symbol.for("react.memo_cache_sentinel")?(_=(0,r.jsx)(i.A.Label,{children:"System Instructions"}),z[18]=_):_=z[18],z[19]===Symbol.for("react.memo_cache_sentinel")?(S=(0,r.jsx)(i.A.Caption,{children:(0,r.jsx)("span",{children:"Make adjustments to the system instructions or add new instructions."})}),z[19]=S):S=z[19],z[20]===Symbol.for("react.memo_cache_sentinel")?(N=e=>X(e.target.value),z[20]=N):N=z[20],z[21]!==G?(O=(0,r.jsxs)(i.A,{children:[_,S,(0,r.jsx)(s.Ay,{block:!0,"aria-label":"Prompt",name:"Prompt",value:G,onChange:N,className:b.systemInstructionsTextarea})]}),z[21]=G,z[22]=O):O=z[22],z[23]===Symbol.for("react.memo_cache_sentinel")?(I=(0,r.jsx)(i.A.Label,{children:"Temperature"}),D=(0,r.jsx)(i.A.Caption,{children:"Controls the randomness of the model's responses. Lower temperatures are more deterministic, while higher temperatures are more random."}),z[23]=I,z[24]=D):(I=z[23],D=z[24]),z[25]===Symbol.for("react.memo_cache_sentinel")?(L=e=>K(Number(e.target.value)),z[25]=L):L=z[25],z[26]!==q?(R=(0,r.jsxs)(i.A,{className:b.temperatureFormControl,children:[I,D,(0,r.jsx)(l.A,{type:"number",min:"0",max:"1",step:"0.01",block:!0,value:q,onChange:L})]}),z[26]=q,z[27]=R):R=z[27],z[28]===Symbol.for("react.memo_cache_sentinel")?(k=(0,r.jsx)("div",{className:b.toolsSectionHeader,children:"Tools"}),z[28]=k):k=z[28],z[29]!==Q?(A=Q.map((e,t)=>(0,r.jsxs)(f.Fragment,{children:[(0,r.jsxs)(c.B,{direction:"horizontal",className:"py-2",children:[(0,r.jsxs)(i.A,{children:[(0,r.jsx)(i.A.Label,{children:"Name"}),(0,r.jsx)(i.A.Caption,{children:(0,r.jsx)("span",{children:"Slug of tool you want to adjust"})}),(0,r.jsx)(l.A,{defaultValue:e.slug,onChange:e=>{Q.map((n,r)=>{r===t&&(n.slug=e.target.value)})}})]}),(0,r.jsxs)(i.A,{children:[(0,r.jsx)(i.A.Label,{children:"Description"}),(0,r.jsx)(i.A.Caption,{children:(0,r.jsx)("span",{children:"Make changes to the tool description"})}),(0,r.jsx)(l.A,{defaultValue:e.description,onChange:n=>{Q.map((r,o)=>{o===t&&(e.description=n.target.value)})}})]}),(0,r.jsxs)(i.A,{children:[(0,r.jsx)(i.A.Label,{id:"toggle",children:"Enabled?"}),(0,r.jsx)(d.A,{size:"small","aria-labelledby":"toggle",defaultChecked:e.enabled,onChange:e=>{Q.map((n,r)=>{r===t&&(n.enabled=e)})}})]}),(0,r.jsx)(m.K,{icon:a.TrashIcon,"aria-label":"Delete tool",variant:"invisible",onClick:()=>{let e=[...Q];1===Q.length?J([]):(e.splice(t,1),J(e))},className:b.deleteToolButton})]}),t===Q.length-1&&(0,r.jsx)(h.Q,{leadingVisual:(0,r.jsx)(a.PlusIcon,{}),onClick:()=>J([...Q,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add another tool"})]},`tool-${e.slug}-${Math.random()}`)),z[29]=Q,z[30]=A):A=z[30],z[31]!==Q?(P=0===Q.length&&(0,r.jsx)(h.Q,{leadingVisual:(0,r.jsx)(a.PlusIcon,{}),onClick:()=>J([...Q,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add a tool"}),z[31]=Q,z[32]=P):P=z[32],z[33]!==O||z[34]!==R||z[35]!==A||z[36]!==P?(T=(0,r.jsxs)(u.l.Body,{children:[O,R,k,A,P]}),z[33]=O,z[34]=R,z[35]=A,z[36]=P,z[37]=T):T=z[37],z[38]!==W?(E={type:"button",onClick:W,content:"Cancel"},z[38]=W,z[39]=E):E=z[39],z[40]!==et?(V={type:"button",onClick:et,content:"Reset"},z[40]=et,z[41]=V):V=z[41],z[42]!==Z?(B={type:"button",onClick:Z,content:"Save",buttonType:"primary"},z[42]=Z,z[43]=B):B=z[43],z[44]!==E||z[45]!==V||z[46]!==B?(F=(0,r.jsx)(u.l.Footer,{children:(0,r.jsx)(u.l.Buttons,{buttons:[E,V,B]})}),z[44]=E,z[45]=V,z[46]=B,z[47]=F):F=z[47],z[48]!==W||z[49]!==H||z[50]!==T||z[51]!==F?($=(0,r.jsx)(p.Z,{children:(0,r.jsxs)(u.l,{ref:H,onClose:W,title:"Prompt Settings",width:"xlarge",className:b.Dialog,children:[T,F]})}),z[48]=W,z[49]=H,z[50]=T,z[51]=F,z[52]=$):$=z[52],$};try{y.displayName||(y.displayName="PromptDialog")}catch{}function w(e){return e.slug&&e.description}},34700:(e,t,n)=>{n.d(t,{X:()=>s});var r=n(74848),o=n(47139),a=n(56693),i=n(90735);let s=({children:e="Preview",feedbackUrl:t,className:n})=>(0,r.jsx)(i.V,{className:n,label:(0,r.jsx)(o.A,{variant:"success",children:e}),link:t?(0,r.jsx)(a.A,{feedbackUrl:t}):void 0});try{s.displayName||(s.displayName="BetaLabel")}catch{}}}]);
//# sourceMappingURL=ui_packages_copilot-chat_entry_ts-ui_packages_use-client-value_use-client-value_ts-ui_package-24032a-84189871184f.js.map