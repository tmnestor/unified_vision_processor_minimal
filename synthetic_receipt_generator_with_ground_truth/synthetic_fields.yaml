# Synthetic Receipt Field Configuration
# Defines all extraction fields and their display properties for synthetic receipt generation

# Field definitions - matches model_comparison.yaml exactly (25 fields)
extraction_fields:
  # Document identification fields
  DOCUMENT_TYPE:
    display_name: "Document Type"
    required: true
    visible: false  # Implied by layout type
    display_format: "{value}"
    
  SUPPLIER:
    display_name: "Business Name"
    required: true
    visible: true
    display_format: "{value}"
    layout_position:
      thermal: "header_center"
      lines: "header_center" 
      tabular: "header_center"
    
  ABN:
    display_name: "ABN"
    required: true
    visible: true
    display_format: "ABN: {value}"
    layout_position:
      thermal: "header_center"
      lines: "header_center"
      tabular: "header_center"

  # Customer/Payer information fields
  PAYER_NAME:
    display_name: "Customer Name"
    required: true
    visible: true  # NOW VISIBLE - was causing 0% extraction
    display_format: "Customer: {value}"
    layout_position:
      thermal: "customer_section"
      lines: "customer_section"
      tabular: "customer_section"
      
  PAYER_ADDRESS:
    display_name: "Customer Address"
    required: true
    visible: true  # NOW VISIBLE - was causing 0% extraction
    display_format: "{value}"
    layout_position:
      thermal: "customer_section"
      lines: "customer_section"
      tabular: "customer_section"
      
  PAYER_PHONE:
    display_name: "Customer Phone"
    required: true
    visible: true  # NOW VISIBLE - was causing 0% extraction
    display_format: "Phone: {value}"
    layout_position:
      thermal: "customer_section"
      lines: "customer_section"
      tabular: "customer_section"
      
  PAYER_EMAIL:
    display_name: "Customer Email"
    required: true
    visible: true  # NOW VISIBLE - was causing 0% extraction
    display_format: "Email: {value}"
    layout_position:
      thermal: "customer_section"
      lines: "customer_section"
      tabular: "customer_section"

  # Date fields
  INVOICE_DATE:
    display_name: "Date"
    required: true
    visible: true
    display_format: "Date: {value}"
    layout_position:
      thermal: "transaction_details"
      lines: "transaction_details"
      tabular: "transaction_details"
      
  DUE_DATE:
    display_name: "Due Date"
    required: true
    visible: false  # Not typically shown on receipts
    display_format: "Due: {value}"

  # Financial fields
  GST:
    display_name: "GST"
    required: true
    visible: true
    display_format: "GST (10%): ${value}"
    layout_position:
      thermal: "totals_section"
      lines: "totals_section"
      tabular: "totals_section"
      
  TOTAL:
    display_name: "Total"
    required: true
    visible: true
    display_format: "TOTAL: ${value}"
    layout_position:
      thermal: "totals_section"
      lines: "totals_section"
      tabular: "totals_section"
      
  SUBTOTAL:
    display_name: "Subtotal"
    required: true
    visible: true
    display_format: "Subtotal: ${value}"
    layout_position:
      thermal: "totals_section"
      lines: "totals_section"
      tabular: "totals_section"
      
  QUANTITIES:
    display_name: "Item Quantities"
    required: true
    visible: true
    display_format: "{value}"  # Embedded in item list
    layout_position:
      thermal: "items_section"
      lines: "items_section"
      tabular: "items_section"
      
  PRICES:
    display_name: "Item Prices"
    required: true
    visible: true
    display_format: "${value}"  # Embedded in item list
    layout_position:
      thermal: "items_section"
      lines: "items_section"
      tabular: "items_section"

  # Business information fields
  BUSINESS_ADDRESS:
    display_name: "Business Address"
    required: true
    visible: true
    display_format: "{value}"
    layout_position:
      thermal: "header_center"
      lines: "header_center"
      tabular: "header_center"
      
  BUSINESS_PHONE:
    display_name: "Business Phone"
    required: true
    visible: true
    display_format: "Phone: {value}"
    layout_position:
      thermal: "header_center"
      lines: "header_center"
      tabular: "header_center"
      
  SUPPLIER_WEBSITE:
    display_name: "Website"
    required: true
    visible: true  # NOW VISIBLE - was causing 0% extraction
    display_format: "Web: {value}"
    layout_position:
      thermal: "footer_section"
      lines: "header_center"
      tabular: "header_center"

  # Banking fields (bank statements only)
  BANK_NAME:
    display_name: "Bank Name"
    required: false
    visible: true
    display_format: "{value}"
    applies_to: ["BANK STATEMENT"]
    layout_position:
      bank_statement: "header_left"
      
  BSB_NUMBER:
    display_name: "BSB"
    required: false
    visible: true
    display_format: "BSB: {value}"
    applies_to: ["BANK STATEMENT"]
    layout_position:
      bank_statement: "account_details"
      
  BANK_ACCOUNT_NUMBER:
    display_name: "Account Number"
    required: false
    visible: true
    display_format: "Account Number: {value}"
    applies_to: ["BANK STATEMENT"]
    layout_position:
      bank_statement: "account_details"
      
  ACCOUNT_HOLDER:
    display_name: "Account Holder"
    required: false
    visible: true
    display_format: "Account Holder: {value}"
    applies_to: ["BANK STATEMENT"]
    layout_position:
      bank_statement: "account_details"
      
  STATEMENT_PERIOD:
    display_name: "Statement Period"
    required: false
    visible: true
    display_format: "Statement Period: {value}"
    applies_to: ["BANK STATEMENT"]
    layout_position:
      bank_statement: "account_details"
      
  OPENING_BALANCE:
    display_name: "Opening Balance"
    required: false
    visible: true
    display_format: "Opening Balance: ${value}"
    applies_to: ["BANK STATEMENT"]
    layout_position:
      bank_statement: "balance_details"
      
  CLOSING_BALANCE:
    display_name: "Closing Balance"
    required: false
    visible: true
    display_format: "Closing Balance: ${value}"
    applies_to: ["BANK STATEMENT"]
    layout_position:
      bank_statement: "balance_details"
      
  DESCRIPTIONS:
    display_name: "Transaction Descriptions"
    required: false
    visible: true
    display_format: "{value}"  # Embedded in transaction list
    applies_to: ["BANK STATEMENT"]
    layout_position:
      bank_statement: "transactions_section"

# Layout section definitions
layout_sections:
  # Receipt layouts
  header_center:
    description: "Centered business information at top"
    font_size: "medium"
    alignment: "center"
    spacing: 15
    
  customer_section:
    description: "Customer/payer information block"
    font_size: "small"
    alignment: "left"
    spacing: 12
    separator_line: true
    title: "CUSTOMER DETAILS"
    
  transaction_details:
    description: "Date, time, receipt number information"
    font_size: "small"
    alignment: "left"
    spacing: 12
    
  items_section:
    description: "Item list with quantities and prices"
    font_size: "small"
    alignment: "left"
    spacing: 15
    
  totals_section:
    description: "Subtotal, GST, total calculations"
    font_size: "medium"
    alignment: "right"
    spacing: 15
    
  footer_section:
    description: "Footer information like website"
    font_size: "small"
    alignment: "center"
    spacing: 10
    
  # Bank statement layouts
  account_details:
    description: "Bank account information"
    font_size: "medium"
    alignment: "left"
    spacing: 15
    
  balance_details:
    description: "Opening and closing balances"
    font_size: "medium"
    alignment: "left"
    spacing: 15
    
  transactions_section:
    description: "Transaction history list"
    font_size: "small"
    alignment: "left"
    spacing: 12

# Display configuration
display_config:
  show_customer_section: true  # Critical fix - enable customer details
  customer_section_title: "CUSTOMER DETAILS"
  separator_style: "dashed"    # For lines layout
  website_position: "header"   # For lines/tabular, footer for thermal
  
  # Font sizes
  fonts:
    large: 16
    medium: 12
    small: 10
    
  # Layout dimensions
  thermal_width: 400
  lines_width: 500
  tabular_width: 400
  
  # Spacing
  section_spacing: 20
  line_spacing: 15
  item_spacing: 12

# Field validation rules
validation:
  required_fields_count: 25
  visible_fields_minimum: 20  # At least 20 fields should be visually present
  customer_fields_required: ["PAYER_NAME", "PAYER_ADDRESS", "PAYER_PHONE", "PAYER_EMAIL"]
  business_fields_required: ["SUPPLIER", "ABN", "BUSINESS_ADDRESS", "BUSINESS_PHONE"]