graph TD
    A[Document Image] --> B1[OCR Engine]
    A --> B2[Image Features]
    A --> B3[Layout Parser]
    
    B1 --> C1[Text Semantics<br/>words, sentences<br/>+ Bounding Boxes<br/>coordinate data]
    
    B2 --> C2[Basic Visual Patterns<br/>optional<br/>logos, colors, shapes - limited]
    
    B3 --> C3[2D Position Embeddings<br/>spatial relationships]
    
    C1 --> D[LayoutLM Transformer<br/>attempts to fuse all three]
    C2 --> D
    C3 --> D
    
    D --> E[Extracted Fields]
    
    %% Styling for different streams
    classDef ocrStream fill:#ffebee,stroke:#d32f2f,stroke-width:2px,color:#000
    classDef imageStream fill:#e3f2fd,stroke:#1976d2,stroke-width:2px,color:#000
    classDef layoutStream fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px,color:#000
    classDef fusion fill:#fff3e0,stroke:#f57c00,stroke-width:2px,color:#000
    classDef output fill:#e8f5e8,stroke:#388e3c,stroke-width:2px,color:#000
    
    class A,B1,C1 ocrStream
    class B2,C2 imageStream
    class B3,C3 layoutStream
    class D fusion
    class E output